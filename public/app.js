!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function r(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}function i(e){return e&&e.__esModule?e.default:e}var o,s,a,u,c={},l={},f=e.parcelRequire716c;function d(e){return e&&!!["provider"].find((t=>e.hasOwnProperty(t)))}function h(e){return void 0!==e.redirectSignIn}null==f&&((f=function(e){if(e in c)return c[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return c[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){l[e]=t},e.parcelRequire716c=f),(s=o||(o={})).Cognito="COGNITO",s.Google="Google",s.Facebook="Facebook",s.Amazon="LoginWithAmazon",s.Apple="SignInWithApple",(u=a||(a={})).NoConfig="noConfig",u.MissingAuthConfig="missingAuthConfig",u.EmptyUsername="emptyUsername",u.InvalidUsername="invalidUsername",u.EmptyPassword="emptyPassword",u.EmptyCode="emptyCode",u.SignUpError="signUpError",u.NoMFA="noMFA",u.InvalidMFA="invalidMFA",u.EmptyChallengeResponse="emptyChallengeResponse",u.NoUserSession="noUserSession",u.Default="default",u.DeviceConfig="deviceConfig",u.NetworkError="networkError";var p={};t(p),n(p,"ConsoleLogger",(function(){return v.ConsoleLogger})),n(p,"Hub",(function(){return O.Hub})),n(p,"Credentials",(function(){return ls.Credentials})),n(p,"StorageHelper",(function(){return hs})),n(p,"UniversalStorage",(function(){return vc})),n(p,"Amplify",(function(){return g.Amplify})),n(p,"JS",(function(){return pe})),n(p,"Parser",(function(){return be.Parser})),n(p,"JS",(function(){return be.JS})),n(p,"urlSafeDecode",(function(){return be.urlSafeDecode})),n(p,"urlSafeEncode",(function(){return be.urlSafeEncode}));var g={};n(g,"Amplify",(function(){return x}),(function(e){return x=e}));var v={};n(v,"ConsoleLogger",(function(){return I}),(function(e){return I=e}));var m,y,w="Logging",b="No credentials",S=["ResourceNotFoundException","InvalidSequenceTokenException"],A=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E(arguments[t]));return e},C={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(y=m||(m={})).DEBUG="DEBUG",y.ERROR="ERROR",y.INFO="INFO",y.WARN="WARN",y.VERBOSE="VERBOSE";var I=function(){function e(e,t){void 0===t&&(t=m.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=C[s],u=C[t];if(u>=a){var c=console.log.bind(console);t===m.ERROR&&console.error&&(c=console.error.bind(console)),t===m.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,f="";if(1===i.length&&"string"==typeof i[0])c(f=l+" - "+i[0]);else if(1===i.length)f=l+" "+i[0],c(l,i[0]);else if("string"==typeof i[0]){var d=i.slice(1);1===d.length&&(d=d[0]),f=l+" - "+i[0]+" "+d,c(l+" - "+i[0],d)}else f=l+" "+i,c(l,i);try{for(var h=A(this._pluggables),p=h.next();!p.done;p=h.next()){var g=p.value,v={message:f,timestamp:Date.now()};g.pushLogs([v])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,_([m.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&e.getCategoryName()===w&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),k=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},T=new v.ConsoleLogger("Amplify"),x=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=v.ConsoleLogger,this.ServiceWorker=null}return e.prototype.register=function(e){T.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):T.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),T.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=k(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),P={userAgent:"aws-amplify/4.3.9 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(P.product=navigator.product||"",P.navigator=navigator||null,"ReactNative"===navigator.product)P.userAgent="aws-amplify/4.3.9 react-native",P.isReactNative=!0;else P.userAgent="aws-amplify/4.3.9 js",P.isReactNative=!1;var U=function(){return P.userAgent},O={};n(O,"Hub",(function(){return z}),(function(e){return z=e}));var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},L=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},R=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e},N=new v.ConsoleLogger("Hub"),D="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var F,j,B,q=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void N.warn("No listeners for "+e);this.patterns=R(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void N.warn("No listeners for "+e);this.listeners[e]=R(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===D||N.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:M({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){N.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))N.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){N.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){N.error(e)}})),this.patterns.length>0){if(!n.message)return void N.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=L(n).slice(1),o=M(M({},e),{patternInfo:r});try{t.callback(o)}catch(e){N.error(e)}}}))}},e}(),z=new q("__default__"),H=F={};function G(){throw new Error("setTimeout has not been defined")}function K(){throw new Error("clearTimeout has not been defined")}function V(e){if(j===setTimeout)return setTimeout(e,0);if((j===G||!j)&&setTimeout)return j=setTimeout,setTimeout(e,0);try{return j(e,0)}catch(t){try{return j.call(null,e,0)}catch(t){return j.call(this,e,0)}}}!function(){try{j="function"==typeof setTimeout?setTimeout:G}catch(e){j=G}try{B="function"==typeof clearTimeout?clearTimeout:K}catch(e){B=K}}();var W,$=[],J=!1,Y=-1;function Z(){J&&W&&(J=!1,W.length?$=W.concat($):Y=-1,$.length&&Q())}function Q(){if(!J){var e=V(Z);J=!0;for(var t=$.length;t;){for(W=$,$=[];++Y<t;)W&&W[Y].run();Y=-1,t=$.length}W=null,J=!1,function(e){if(B===clearTimeout)return clearTimeout(e);if((B===K||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(e);try{B(e)}catch(t){try{return B.call(null,e)}catch(t){return B.call(this,e)}}}(e)}}function X(e,t){this.fun=e,this.array=t}function ee(){}H.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];$.push(new X(e,t)),1!==$.length||J||V(Q)},X.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={},H.on=ee,H.addListener=ee,H.once=ee,H.off=ee,H.removeListener=ee,H.removeAllListeners=ee,H.emit=ee,H.prependListener=ee,H.prependOnceListener=ee,H.listeners=function(e){return[]},H.binding=function(e){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(e){throw new Error("process.chdir is not supported")},H.umask=function(){return 0};var te=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],ne=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},re=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},ie=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},oe=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=te.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},se=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},ae=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},ue=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},ce=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},le=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==F&&null!=F.versions&&null!=F.versions.node}},fe=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!he(e))return e;var r={};for(var i in e)if(e.hasOwnProperty(i)){r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:fe(e[i],t,n)}return r},de=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!he(e))return e;var r={};for(var i in e)if(e.hasOwnProperty(i)){r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:de(e[i],t,n)}return r},he=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},pe=function(){function e(){}return e.isEmpty=ne,e.sortByField=re,e.objectLessAttributes=ie,e.filenameToContentType=oe,e.isTextFile=se,e.generateRandomString=ae,e.makeQuerablePromise=ue,e.isWebWorker=ce,e.browserOrNode=le,e.transferKeyToLowerCase=fe,e.transferKeyToUpperCase=de,e.isStrictObject=he,e}(),ge={};n(ge,"parseMobileHubConfig",(function(){return ye}),(function(e){return ye=e})),n(ge,"Parser",(function(){return we}),(function(e){return we=e}));var ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ve.apply(this,arguments)},me=new v.ConsoleLogger("Parser"),ye=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=ve(ve({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),me.debug("parse config",e,"to amplifyconfig",n),n},we=function(){function e(){}return e.parseMobilehubConfig=ye,e}(),be={},Se=function(e,t){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ee.apply(this,arguments)};function _e(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Ce(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function Ie(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var ke;ke=JSON.parse('{"name":"@aws-sdk/client-cloudwatch-logs","description":"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test":"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cloudwatch-logs"}}');var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.WebCryptoSha256=Te.Ie11Sha256=void 0;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xe=function(e,t){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Pe(e,t){function n(){this.constructor=e}xe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ue.apply(this,arguments)};function Oe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Me(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Le(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}function Re(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function Ne(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(De(arguments[t]));return e}f.register("cJ1Co",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=f("i4e4U"),r=f("j6E5u"),i=f("gBUpv"),o=f("4KkDf"),s=f("fLciR"),a=f("iJIdd"),u=function(){function e(e){(0,o.supportsWebCrypto)((0,a.locateWindow)())?this.hash=new r.Sha256(e):(0,s.isMsWindow)((0,a.locateWindow)())?this.hash=new n.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();e.exports.Sha256=u})),f.register("i4e4U",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=f("aemHr"),r=f("5dtXO"),i=f("9Dbjc"),o=f("iJIdd"),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var i=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",a(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n(new Error("ImportKey completed without importing key."))},i.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,o.locateWindow)().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,n.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(a(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function a(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}e.exports.Sha256=s})),f.register("aemHr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),f.register("5dtXO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EMPTY_DATA_SHA_256=e.exports.SHA_256_HMAC_ALGO=e.exports.SHA_256_HASH=void 0,e.exports.SHA_256_HASH={name:"SHA-256"},e.exports.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.exports.SHA_256_HASH},e.exports.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})),f.register("9Dbjc",(function(e,t){n(e.exports,"fromUtf8",(function(){return o})),n(e.exports,"toUtf8",(function(){return s}));var r=f("ljAZ4"),i=f("iJMX1"),o=function(e){return"function"==typeof TextEncoder?i.fromUtf8(e):r.fromUtf8(e)},s=function(e){return"function"==typeof TextDecoder?i.toUtf8(e):r.toUtf8(e)}})),f.register("ljAZ4",(function(e,t){n(e.exports,"fromUtf8",(function(){return r})),n(e.exports,"toUtf8",(function(){return i}));var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},i=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}})),f.register("iJMX1",(function(e,t){function r(e){return(new TextEncoder).encode(e)}function i(e){return new TextDecoder("utf-8").decode(e)}n(e.exports,"fromUtf8",(function(){return r})),n(e.exports,"toUtf8",(function(){return i}))})),f.register("iJIdd",(function(e,t){n(e.exports,"locateWindow",(function(){return i}));var r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}})),f.register("j6E5u",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=f("9tf4r"),r=f("5dtXO"),i=f("iJIdd"),o=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,o){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,n.convertToBuffer)(e),r.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,o)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,n.isEmptyData)(e)){var t=(0,n.convertToBuffer)(e),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(r.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,n.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(r.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();e.exports.Sha256=o})),f.register("9tf4r",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=e.exports.numToUint8=e.exports.isEmptyData=e.exports.convertToBuffer=void 0;var n=f("8SdY5");Object.defineProperty(e.exports,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=f("jfM01");Object.defineProperty(e.exports,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var i=f("5e1bW");Object.defineProperty(e.exports,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var o=f("1dMoT");Object.defineProperty(e.exports,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})})),f.register("8SdY5",(function(e,t){var n=f("ecqrZ").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.convertToBuffer=void 0;var r=f("9Dbjc"),i=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;e.exports.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}})),f.register("ecqrZ",(function(e,t){var r,i;n(e.exports,"Buffer",(function(){return r}),(function(e){return r=e})),n(e.exports,"INSPECT_MAX_BYTES",(function(){return i}),(function(e){return i=e}));var o=f("gs6Tx"),s=f("352wC"),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r=l,i=50;var u=2147483647;function c(e){if(e>u)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return d(e,t,n)}function d(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=c(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|m(e.length),n=c(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?c(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return h(e),c(e<0?0:0|m(e))}function g(e){for(var t=e.length<0?0:0|m(e.length),n=c(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function m(e){if(e>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|e}function y(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return U(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:A(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):A(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(K(a))return s;e[n+s]=a}return s}function _(e,t,n,r){return H(q(t,e.length-n),e,n,r)}function C(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return H(z(t),e,n,r)}function k(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return d(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return h(e),e<=0?c(e):void 0!==t?"string"==typeof n?c(e).fill(t,n):c(e).fill(t):c(e)}(e,t,n)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(G(o,Uint8Array))i+o.length>r.length?l.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=i;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function U(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=V[e[o]];return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),s.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),s.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),f.register("gs6Tx",(function(e,t){var r,i;n(e.exports,"toByteArray",(function(){return r}),(function(e){return r=e})),n(e.exports,"fromByteArray",(function(){return i}),(function(e){return i=e})),r=function(e){var t,n,r=f(e),i=r[0],o=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),c=0,l=o>0?i-4:i;for(n=0;n<l;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===o&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===o&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},i=function(e){for(var t,n=e.length,r=n%3,i=[],s=16383,a=0,u=n-r;a<u;a+=s)i.push(d(e,a,a+s>u?u:a+s));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],s[u.charCodeAt(c)]=c;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,n){for(var r,i,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),f.register("352wC",(function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,i;n(e.exports,"read",(function(){return r}),(function(e){return r=e})),n(e.exports,"write",(function(){return i}),(function(e){return i=e})),r=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},i=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}})),f.register("jfM01",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),f.register("5e1bW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.numToUint8=void 0,e.exports.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}})),f.register("1dMoT",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=void 0,e.exports.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}})),f.register("gBUpv",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),Re(f("3hSoT"),e.exports)})),f.register("3hSoT",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=f("2vMf2"),r=f("01a0r"),i=f("9tf4r"),o=function(){function e(e){if(this.hash=new r.RawSha256,e){this.outer=new r.RawSha256;var t=function(e){var t=(0,i.convertToBuffer)(e);if(t.byteLength>n.BLOCK_SIZE){var o=new r.RawSha256;o.update(t),t=o.digest()}var s=new Uint8Array(n.BLOCK_SIZE);return s.set(t),s}(e),o=new Uint8Array(n.BLOCK_SIZE);o.set(t);for(var s=0;s<n.BLOCK_SIZE;s++)t[s]^=54,o[s]^=92;this.hash.update(t),this.outer.update(o);for(s=0;s<t.byteLength;s++)t[s]=0}}return e.prototype.update=function(e){if(!(0,i.isEmptyData)(e)&&!this.error)try{this.hash.update((0,i.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Me(this,void 0,void 0,(function(){return Le(this,(function(e){return[2,this.digestSync()]}))}))},e}();e.exports.Sha256=o})),f.register("2vMf2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MAX_HASHABLE_LENGTH=e.exports.INIT=e.exports.KEY=e.exports.DIGEST_LENGTH=e.exports.BLOCK_SIZE=void 0,e.exports.BLOCK_SIZE=64,e.exports.DIGEST_LENGTH=32,e.exports.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.exports.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.exports.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),f.register("01a0r",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RawSha256=void 0;var n=f("2vMf2"),r=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var i=this.bufferLength;i<n.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<n.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(n.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<n.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(n.KEY[f]+this.temp[f]|0)|0)|0,v=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=r,r=g+v|0}t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();e.exports.RawSha256=r})),f.register("4KkDf",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),Re(f("7YHLQ"),e.exports)})),f.register("7YHLQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.supportsZeroByteGCM=e.exports.supportsSubtleCrypto=e.exports.supportsSecureRandom=e.exports.supportsWebCrypto=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function i(e){return e&&n.every((function(t){return"function"==typeof e[t]}))}e.exports.supportsWebCrypto=function(e){return!(!r(e)||"object"!=typeof e.crypto.subtle)&&i(e.crypto.subtle)},e.exports.supportsSecureRandom=r,e.exports.supportsSubtleCrypto=i,e.exports.supportsZeroByteGCM=function(e){return Me(this,void 0,void 0,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:if(!i(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}})),f.register("fLciR",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),Re(f("Xy2FV"),e.exports),Re(f("bxDY1"),e.exports),Re(f("36Hq3"),e.exports),Re(f("O3UB0"),e.exports),Re(f("cgm42"),e.exports)})),f.register("Xy2FV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),f.register("bxDY1",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),f.register("36Hq3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),f.register("O3UB0",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),f.register("cgm42",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];e.exports.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}})),Re(f("cJ1Co"),Te);var je=f("i4e4U");Object.defineProperty(Te,"Ie11Sha256",{enumerable:!0,get:function(){return je.Sha256}});var Be=f("j6E5u");Object.defineProperty(Te,"WebCryptoSha256",{enumerable:!0,get:function(){return Be.Sha256}});var qe=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),ze=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ue(Ue({},this),{headers:Ue({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Ue(Ue({},e),((r={})[n]=Array.isArray(i)?Fe(i):i,r))}),{}))),n},e}();var He=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ge)},Ge=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};for(var Ke=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=function(e){var t,n,r=[];try{for(var i=Ne(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=He(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+He(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+He(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);s&&(o+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Ne(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new qe({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new qe({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),Ve={},We=new Array(64),$e=0,Je="A".charCodeAt(0),Ye="Z".charCodeAt(0);$e+Je<=Ye;$e++){var Ze=String.fromCharCode($e+Je);Ve[Ze]=$e,We[$e]=Ze}for($e=0,Je="a".charCodeAt(0),Ye="z".charCodeAt(0);$e+Je<=Ye;$e++){Ze=String.fromCharCode($e+Je);var Qe=$e+26;Ve[Ze]=Qe,We[Qe]=Ze}for($e=0;$e<10;$e++){Ve[$e.toString(10)]=$e+52;Ze=$e.toString(10),Qe=$e+52;Ve[Ze]=Qe,We[Qe]=Ze}Ve["+"]=62,We[62]="+",Ve["/"]=63,We[63]="/";function Xe(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=Ve[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function et(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=We[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var tt=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Me(this,void 0,void 0,(function(){var t,n;return Le(this,(function(r){switch(r.label){case 0:return[4,nt(e)];case 1:return t=r.sent(),n=Xe(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Me(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Le(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function nt(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var rt,it=function(e){return function(){return Promise.reject(e)}},ot={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},st=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return Me(void 0,void 0,void 0,(function(){var i;return Le(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=Fe(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),ot)}}},at=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],ut=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ct=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],lt=[500,502,503,504],ft=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||ut.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},dt={},ht={},pt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(pt){var gt=new Uint8Array(16);ht=function(){return pt(gt),gt}}else{var vt=new Array(16);ht=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),vt[t]=e>>>((3&t)<<3)&255;return vt}}for(var mt,yt,wt={},bt=[],St=0;St<256;++St)bt[St]=(St+256).toString(16).substr(1);wt=function(e,t){var n=t||0,r=bt;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var At=0,Et=0;rt=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||mt,s=void 0!==e.clockseq?e.clockseq:yt;if(null==o||null==s){var a=ht();null==o&&(o=mt=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=yt=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Et+1,l=u-At+(c-Et)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>At)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");At=u,Et=c,yt=s;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=o[h];return t||wt(i)};var _t;var Ct=_t=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||ht)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||wt(i)};Ct.v1=rt,Ct.v4=_t,dt=Ct;var It=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},kt=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return at.includes(e.name)}(e)||ft(e)||function(e){var t;return ct.includes(e.name)||lt.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Tt="standard",xt=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.mode=Tt,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:kt,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:It,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Me(this,void 0,void 0,(function(){var e;return Le(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return Me(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Le(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,ze.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=dt.v4()),a=function(){var a,c,l,f,d;return Le(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),ze.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=h.sent(),c=a.response,l=a.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(ft(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Pt=function(e){var t=Ut(e.maxAttempts);return Ue(Ue({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new xt(t)})},Ut=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Ot(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var Mt,Lt,Rt={};Mt=Rt,Lt=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18),s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},"object"==typeof Rt?Rt=Lt():"function"==typeof define&&define.amd?define([],Lt):"object"==typeof Rt?Rt.bowser=Lt():Mt.bowser=Lt();var Nt=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Me(void 0,void 0,void 0,(function(){var e,r,o,s,a,u,c,l,f;return Le(this,(function(d){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?i(Rt).parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(c=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.name)&&void 0!==c?c:"unknown")+"_"+(null!==(f=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==f?f:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}},Dt=f("9Dbjc"),Ft="logs.{region}.amazonaws.com",jt=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Bt=new Set(["cn-north-1","cn-northwest-1"]),qt=new Set(["us-iso-east-1"]),zt=new Set(["us-isob-east-1"]),Ht=new Set(["us-gov-east-1","us-gov-west-1"]);var Gt=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Ne(e.split("&")),o=i.next();!o.done;o=i.next()){var s=De(o.value.split("="),2),a=s[0],u=s[1],c=void 0===u?null:u;a=decodeURIComponent(a),c&&(c=decodeURIComponent(c)),a in r?Array.isArray(r[a])?r[a].push(c):r[a]=[r[a],c]:r[a]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},Kt={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:jt.has(e)&&(n={hostname:Ft.replace("{region}",e),partition:"aws"}),Bt.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),qt.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),zt.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Ht.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ft.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ee({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:Gt},Vt=Ee(Ee({},Kt),{runtime:"browser",base64Decoder:Xe,base64Encoder:et,bodyLengthChecker:Ot,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Nt({serviceId:Kt.serviceId,clientVersion:i(ke).version}),maxAttempts:3,region:it("Region is missing"),requestHandler:new Ke,sha256:Te.Sha256,streamCollector:tt,utf8Decoder:Dt.fromUtf8,utf8Encoder:Dt.toUtf8}),Wt=function(e){var t;return Ue(Ue({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?$t(e):function(){return Jt(e)},isCustomEndpoint:!!e.endpoint})},$t=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Jt=function(e){return Me(void 0,void 0,void 0,(function(){var t,n,r,i,o;return Le(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Yt=function(e){if(!e.region)throw new Error("Region is missing");return Ue(Ue({},e),{region:Zt(e.region)})},Zt=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Qt="content-length";var Xt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},en=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Me(t,void 0,void 0,(function(){var t,i,o,s,a;return Le(this,(function(u){return t=r.request,ze.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Qt)&&void 0!==(s=e(i))&&(t.headers=Ue(Ue({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n(Ue(Ue({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Xt)}}};for(var tn={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},nn=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Me(void 0,void 0,void 0,(function(){var r,i;return Le(this,(function(o){return ze.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),tn)}}},rn={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},on=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return Me(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f;return Le(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),s?("function"==typeof s.info&&(c=u.output,l=c.$metadata,f=Oe(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(f),metadata:l})),[2,u]):[2,u]}}))}))}}),rn)}}},sn={},an={},un=0;un<256;un++){var cn=un.toString(16).toLowerCase();1===cn.length&&(cn="0"+cn),sn[un]=cn,an[cn]=un}function ln(e){for(var t="",n=0;n<e.byteLength;n++)t+=sn[e[n]];return t}var fn="X-Amz-Date",dn="X-Amz-Signature",hn="X-Amz-Security-Token",pn="authorization",gn=fn.toLowerCase(),vn=[pn,gn,"date"],mn=dn.toLowerCase(),yn="x-amz-content-sha256",wn=hn.toLowerCase(),bn={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Sn=/^proxy-/,An=/^sec-/,En="AWS4-HMAC-SHA256",_n="AWS4-HMAC-SHA256-PAYLOAD",Cn="aws4_request",In={},kn=[];function Tn(e,t,n){return e+"/"+t+"/"+n+"/"+Cn}function xn(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Pn(e,t,n){var r,i,o=e.headers,s={};try{for(var a=Ne(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in bn||(null==t?void 0:t.has(l))||Sn.test(l)||An.test(l))&&(!n||n&&!n.has(l))||(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function Un(e,t){var n=e.headers,r=e.body;return Me(this,void 0,void 0,(function(){var e,i,o,s,a,u,c;return Le(this,(function(l){switch(l.label){case 0:try{for(e=Ne(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===yn)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),a=ln,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function On(e){var t=e.headers,n=e.query,r=Oe(e,["headers","query"]);return Ue(Ue({},r),{headers:Ue({},t),query:n?Mn(n):void 0})}function Mn(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Ue(Ue({},t),((r={})[n]=Array.isArray(i)?Fe(i):i,r))}),{})}function Ln(e){var t,n;e="function"==typeof e.clone?e.clone():On(e);try{for(var r=Ne(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;vn.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Rn(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var Nn=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=jn(r),this.credentialProvider=Bn(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Me(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S,A,E,_,C;return Le(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=I.sent(),I.label=4;case 4:return d=h,p=Dn(r),g=p.longDate,v=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Tn(v,d,null!=l?l:this.service),y=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():On(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=Ne(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Ue(Ue({},e),{headers:s,query:u})}(Ln(e),{unhoistableHeaders:a}),f.sessionToken&&(y.query["X-Amz-Security-Token"]=f.sessionToken),y.query["X-Amz-Algorithm"]=En,y.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,y.query["X-Amz-Date"]=g,y.query["X-Amz-Expires"]=o.toString(10),w=Pn(y,s,u),y.query["X-Amz-SignedHeaders"]=Fn(w),b=y.query,S=dn,A=this.getSignature,E=[g,m,this.getSigningKey(f,d,v,l)],_=this.createCanonicalRequest,C=[y,w],[4,Un(e,this.sha256)]);case 5:return[4,A.apply(this,E.concat([_.apply(this,C.concat([I.sent()]))]))];case 6:return b[S]=I.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return Me(this,void 0,void 0,(function(){return Le(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return Me(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,g,v;return Le(this,(function(m){switch(m.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,i=Dn(o),c=i.shortDate,l=i.longDate,f=Tn(c,e,null!=u?u:this.service),[4,Un({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(h=new this.sha256).update(n),g=ln,[4,h.digest()];case 5:return p=g.apply(void 0,[m.sent()]),v=[_n,l,f,s,p,d].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return Me(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,f;return Le(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,a=Dn(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=ln,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return Me(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,g,v;return Le(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Ln(e),l=Dn(i),f=l.longDate,d=l.shortDate,h=Tn(d,n,null!=u?u:this.service),c.headers[gn]=f,t.sessionToken&&(c.headers[wn]=t.sessionToken),[4,Un(c,this.sha256)];case 5:return p=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Ne(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(yn,c.headers)&&this.applyChecksum&&(c.headers["x-amz-content-sha256"]=p),g=Pn(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,p))];case 6:return v=m.sent(),c.headers.authorization="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Fn(g)+", Signature="+v,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===mn)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=He(e)+"="+He(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([He(e)+"="+He(n)])}),[]).join("&"))};try{for(var u=Ne(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Me(this,void 0,void 0,(function(){var r,i;return Le(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+ln(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Me(this,void 0,void 0,(function(){var i,o,s,a,u;return Le(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=ln,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Me(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h;return Le(this,(function(p){switch(p.label){case 0:return[4,xn(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(s=n+":"+r+":"+i+":"+ln(o)+":"+t.sessionToken)in In)return[2,In[s]];for(kn.push(s);kn.length>50;)delete In[kn.shift()];a="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=Ne([n,r,i,Cn]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,xn(e,a,l)]);case 4:a=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,In[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Dn=function(e){var t=Rn(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Fn=function(e){return Object.keys(e).sort().join(";")},jn=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Bn=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function qn(e){var t,n=this,r=zn(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?zn(e.signer):function(){return zn(e.region)().then((function(t){return Me(n,void 0,void 0,(function(){return Le(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=De(t,2),i=n[0],s=n[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new Nn({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Ue(Ue({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function zn(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Hn=function(e){return new Date(Date.now()+e)};function Gn(e){return function(t,n){return function(r){return Me(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d;return Le(this,(function(h){switch(h.label){case 0:return ze.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,u=[Ue({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[Ue.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),c=s.response.headers,(l=c&&(c.date||c.Date))&&(f=Date.parse(l),p=f,g=e.systemClockOffset,Math.abs(Hn(g).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,s]}var p,g}))}))}}}var Kn={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function Vn(e){return Ue(Ue({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var Wn=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$n=function(e){var t=De(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Wn,"_")})).join("/")},Jn={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Yn=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return Me(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f;return Le(this,(function(d){switch(d.label){case 0:return i=r.request,ze.isInstance(i)?(o=i.headers,s=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map($n))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map($n),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map($n))||[],o["x-amz-user-agent"]=Fe(a,s,u).join(" "),c=Fe(a.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o["user-agent"]=o["user-agent"]?o["user-agent"]+" "+c:c),[2,e(Ue(Ue({},r),{request:i}))]}}))}))}}),Jn)}}},Zn=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Ue({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Ue({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Fe(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Fe(i(e)))})),t},o=function(){var n,r=[],o=[],s={};return e.forEach((function(e){var t=Ue(Ue({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Ue(Ue({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return Qn[t.step]-Qn[e.step]||Xn[t.priority||"normal"]-Xn[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Fe(t)),e}),[]).map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,s=Ue({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=e.findIndex((function(e){return e.name===i})),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(a,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,r){var i=r.name,o=r.override,s=Ue({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=t.findIndex((function(e){return e.name===i})),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}n.add(i)}t.push(s)},clone:function(){return r(Zn())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Zn());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var i=Ne(o().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},Qn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Xn={high:3,normal:2,low:1},er=function(){function e(e){this.middlewareStack=Zn(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),tr=function(){this.middlewareStack=Zn()};var nr=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Fe([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};nr.prototype=Object.create(String.prototype,{constructor:{value:nr,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(nr,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Pe(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(nr);var rr,ir,or,sr,ar,ur,cr,lr,fr,dr,hr,pr,gr,vr,mr,yr,wr,br,Sr,Ar,Er,_r,Cr,Ir,kr,Tr,xr,Pr,Ur,Or,Mr,Lr,Rr,Nr,Dr,Fr,jr,Br,qr,zr,Hr,Gr,Kr,Vr,Wr,$r,Jr,Yr,Zr,Qr,Xr,ei,ti,ni,ri,ii,oi,si,ai,ui,ci,li,fi,di,hi,pi,gi,vi,mi,yi,wi,bi,Si,Ai,Ei,_i,Ci,Ii,ki,Ti,xi,Pi,Ui,Oi,Mi,Li,Ri,Ni,Di,Fi,ji,Bi,qi,zi,Hi,Gi,Ki,Vi,Wi,$i,Ji,Yi,Zi,Qi,Xi,eo,to,no,ro=function(e){function t(t){var n,r=this,i=Ee(Ee({},Vt),t),o=Yt(i),s=qn(Wt(o)),a=Vn(Pt(s));return(r=e.call(this,a)||this).config=a,r.middlewareStack.use((n=r.config,{applyToStack:function(e){e.addRelativeTo(Gn(n),Kn)}})),r.middlewareStack.use(st(r.config)),r.middlewareStack.use(en(r.config)),r.middlewareStack.use(nn(r.config)),r.middlewareStack.use(on(r.config)),r.middlewareStack.use(Yn(r.config)),r}return Ae(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(er);(rr||(rr={})).filterSensitiveLog=function(e){return Ee({},e)},(ir||(ir={})).filterSensitiveLog=function(e){return Ee({},e)},(or||(or={})).filterSensitiveLog=function(e){return Ee({},e)},(sr||(sr={})).filterSensitiveLog=function(e){return Ee({},e)},(ar||(ar={})).filterSensitiveLog=function(e){return Ee({},e)},(ur||(ur={})).filterSensitiveLog=function(e){return Ee({},e)},(cr||(cr={})).filterSensitiveLog=function(e){return Ee({},e)},(lr||(lr={})).filterSensitiveLog=function(e){return Ee({},e)},(fr||(fr={})).filterSensitiveLog=function(e){return Ee({},e)},(dr||(dr={})).filterSensitiveLog=function(e){return Ee({},e)},(hr||(hr={})).filterSensitiveLog=function(e){return Ee({},e)},(pr||(pr={})).filterSensitiveLog=function(e){return Ee({},e)},(gr||(gr={})).filterSensitiveLog=function(e){return Ee({},e)},(vr||(vr={})).filterSensitiveLog=function(e){return Ee({},e)},(mr||(mr={})).filterSensitiveLog=function(e){return Ee({},e)},(yr||(yr={})).filterSensitiveLog=function(e){return Ee({},e)},(wr||(wr={})).filterSensitiveLog=function(e){return Ee({},e)},(br||(br={})).filterSensitiveLog=function(e){return Ee({},e)},(Sr||(Sr={})).filterSensitiveLog=function(e){return Ee({},e)},(Ar||(Ar={})).filterSensitiveLog=function(e){return Ee({},e)},(Er||(Er={})).filterSensitiveLog=function(e){return Ee({},e)},(_r||(_r={})).filterSensitiveLog=function(e){return Ee({},e)},(Cr||(Cr={})).filterSensitiveLog=function(e){return Ee({},e)},(Ir||(Ir={})).filterSensitiveLog=function(e){return Ee({},e)},(kr||(kr={})).filterSensitiveLog=function(e){return Ee({},e)},(Tr||(Tr={})).filterSensitiveLog=function(e){return Ee({},e)},(Pr=xr||(xr={})).CANCELLED="CANCELLED",Pr.COMPLETED="COMPLETED",Pr.FAILED="FAILED",Pr.PENDING="PENDING",Pr.PENDING_CANCEL="PENDING_CANCEL",Pr.RUNNING="RUNNING",(Ur||(Ur={})).filterSensitiveLog=function(e){return Ee({},e)},(Or||(Or={})).filterSensitiveLog=function(e){return Ee({},e)},(Mr||(Mr={})).filterSensitiveLog=function(e){return Ee({},e)},(Lr||(Lr={})).filterSensitiveLog=function(e){return Ee({},e)},(Rr||(Rr={})).filterSensitiveLog=function(e){return Ee({},e)},(Nr||(Nr={})).filterSensitiveLog=function(e){return Ee({},e)},(Dr||(Dr={})).filterSensitiveLog=function(e){return Ee({},e)},(Fr||(Fr={})).filterSensitiveLog=function(e){return Ee({},e)},(Br=jr||(jr={})).LastEventTime="LastEventTime",Br.LogStreamName="LogStreamName",(qr||(qr={})).filterSensitiveLog=function(e){return Ee({},e)},(zr||(zr={})).filterSensitiveLog=function(e){return Ee({},e)},(Hr||(Hr={})).filterSensitiveLog=function(e){return Ee({},e)},(Gr||(Gr={})).filterSensitiveLog=function(e){return Ee({},e)},(Kr||(Kr={})).filterSensitiveLog=function(e){return Ee({},e)},(Vr||(Vr={})).filterSensitiveLog=function(e){return Ee({},e)},(Wr||(Wr={})).filterSensitiveLog=function(e){return Ee({},e)},(Jr=$r||($r={})).Cancelled="Cancelled",Jr.Complete="Complete",Jr.Failed="Failed",Jr.Running="Running",Jr.Scheduled="Scheduled",(Yr||(Yr={})).filterSensitiveLog=function(e){return Ee({},e)},(Zr||(Zr={})).filterSensitiveLog=function(e){return Ee({},e)},(Qr||(Qr={})).filterSensitiveLog=function(e){return Ee({},e)},(Xr||(Xr={})).filterSensitiveLog=function(e){return Ee({},e)},(ei||(ei={})).filterSensitiveLog=function(e){return Ee({},e)},(ti||(ti={})).filterSensitiveLog=function(e){return Ee({},e)},(ni||(ni={})).filterSensitiveLog=function(e){return Ee({},e)},(ri||(ri={})).filterSensitiveLog=function(e){return Ee({},e)},(ii||(ii={})).filterSensitiveLog=function(e){return Ee({},e)},(oi||(oi={})).filterSensitiveLog=function(e){return Ee({},e)},(ai=si||(si={})).ByLogStream="ByLogStream",ai.Random="Random",(ui||(ui={})).filterSensitiveLog=function(e){return Ee({},e)},(ci||(ci={})).filterSensitiveLog=function(e){return Ee({},e)},(li||(li={})).filterSensitiveLog=function(e){return Ee({},e)},(fi||(fi={})).filterSensitiveLog=function(e){return Ee({},e)},(di||(di={})).filterSensitiveLog=function(e){return Ee({},e)},(hi||(hi={})).filterSensitiveLog=function(e){return Ee({},e)},(pi||(pi={})).filterSensitiveLog=function(e){return Ee({},e)},(gi||(gi={})).filterSensitiveLog=function(e){return Ee({},e)},(vi||(vi={})).filterSensitiveLog=function(e){return Ee({},e)},(mi||(mi={})).filterSensitiveLog=function(e){return Ee({},e)},(yi||(yi={})).filterSensitiveLog=function(e){return Ee({},e)},(wi||(wi={})).filterSensitiveLog=function(e){return Ee({},e)},(bi||(bi={})).filterSensitiveLog=function(e){return Ee({},e)},(Si||(Si={})).filterSensitiveLog=function(e){return Ee({},e)},(Ai||(Ai={})).filterSensitiveLog=function(e){return Ee({},e)},(Ei||(Ei={})).filterSensitiveLog=function(e){return Ee({},e)},(_i||(_i={})).filterSensitiveLog=function(e){return Ee({},e)},(Ci||(Ci={})).filterSensitiveLog=function(e){return Ee({},e)},(Ii||(Ii={})).filterSensitiveLog=function(e){return Ee({},e)},(ki||(ki={})).filterSensitiveLog=function(e){return Ee({},e)},(Ti||(Ti={})).filterSensitiveLog=function(e){return Ee({},e)},(xi||(xi={})).filterSensitiveLog=function(e){return Ee({},e)},(Pi||(Pi={})).filterSensitiveLog=function(e){return Ee({},e)},(Ui||(Ui={})).filterSensitiveLog=function(e){return Ee({},e)},(Oi||(Oi={})).filterSensitiveLog=function(e){return Ee({},e)},(Mi||(Mi={})).filterSensitiveLog=function(e){return Ee({},e)},(Li||(Li={})).filterSensitiveLog=function(e){return Ee({},e)},(Ri||(Ri={})).filterSensitiveLog=function(e){return Ee({},e)},(Ni||(Ni={})).filterSensitiveLog=function(e){return Ee({},e)},(Di||(Di={})).filterSensitiveLog=function(e){return Ee({},e)},(Fi||(Fi={})).filterSensitiveLog=function(e){return Ee({},e)},(ji||(ji={})).filterSensitiveLog=function(e){return Ee({},e)},(Bi||(Bi={})).filterSensitiveLog=function(e){return Ee({},e)},(qi||(qi={})).filterSensitiveLog=function(e){return Ee({},e)},(zi||(zi={})).filterSensitiveLog=function(e){return Ee({},e)},(Hi||(Hi={})).filterSensitiveLog=function(e){return Ee({},e)},(Gi||(Gi={})).filterSensitiveLog=function(e){return Ee({},e)},(Ki||(Ki={})).filterSensitiveLog=function(e){return Ee({},e)},(Vi||(Vi={})).filterSensitiveLog=function(e){return Ee({},e)},(Wi||(Wi={})).filterSensitiveLog=function(e){return Ee({},e)},($i||($i={})).filterSensitiveLog=function(e){return Ee({},e)},(Ji||(Ji={})).filterSensitiveLog=function(e){return Ee({},e)},(Yi||(Yi={})).filterSensitiveLog=function(e){return Ee({},e)},(Zi||(Zi={})).filterSensitiveLog=function(e){return Ee({},e)},(Qi||(Qi={})).filterSensitiveLog=function(e){return Ee({},e)},(Xi||(Xi={})).filterSensitiveLog=function(e){return Ee({},e)},(eo||(eo={})).filterSensitiveLog=function(e){return Ee({},e)},(to||(to={})).filterSensitiveLog=function(e){return Ee({},e)},(no||(no={})).filterSensitiveLog=function(e){return Ee({},e)};var io=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h;return Ce(this,(function(p){switch(p.label){case 0:return r=[Ee({},e)],h={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(h.body=p.sent(),h)])),o="UnknownError",o=Jo(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return s=[{}],[4,fo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([p.sent()])),{name:o,$metadata:Ko(e)}]),[3,13];case 4:return a=[{}],[4,po(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([p.sent()])),{name:o,$metadata:Ko(e)}]),[3,13];case 6:return u=[{}],[4,go(n,t)];case 7:return i=Ee.apply(void 0,[Ee.apply(void 0,u.concat([p.sent()])),{name:o,$metadata:Ko(e)}]),[3,13];case 8:return c=[{}],[4,vo(n,t)];case 9:return i=Ee.apply(void 0,[Ee.apply(void 0,c.concat([p.sent()])),{name:o,$metadata:Ko(e)}]),[3,13];case 10:return l=[{}],[4,yo(n,t)];case 11:return i=Ee.apply(void 0,[Ee.apply(void 0,l.concat([p.sent()])),{name:o,$metadata:Ko(e)}]),[3,13];case 12:f=n.body,o=f.code||f.Code||o,i=Ee(Ee({},f),{name:""+o,message:f.message||f.Message||o,$fault:"client",$metadata:Ko(e)}),p.label=13;case 13:return d=i.message||i.Message||o,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},oo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Ce(this,(function(h){switch(h.label){case 0:return r=[Ee({},e)],d={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(d.body=h.sent(),d)])),o="UnknownError",o=Jo(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return s=[{}],[4,fo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([h.sent()])),{name:o,$metadata:Ko(e)}]),[3,11];case 4:return a=[{}],[4,vo(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([h.sent()])),{name:o,$metadata:Ko(e)}]),[3,11];case 6:return u=[{}],[4,mo(n,t)];case 7:return i=Ee.apply(void 0,[Ee.apply(void 0,u.concat([h.sent()])),{name:o,$metadata:Ko(e)}]),[3,11];case 8:return c=[{}],[4,yo(n,t)];case 9:return i=Ee.apply(void 0,[Ee.apply(void 0,c.concat([h.sent()])),{name:o,$metadata:Ko(e)}]),[3,11];case 10:l=n.body,o=l.code||l.Code||o,i=Ee(Ee({},l),{name:""+o,message:l.message||l.Message||o,$fault:"client",$metadata:Ko(e)}),h.label=11;case 11:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},so=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ce(this,(function(f){switch(f.label){case 0:return r=[Ee({},e)],l={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Jo(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return s=[{}],[4,fo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:Ko(e)}]),[3,7];case 4:return a=[{}],[4,yo(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Ko(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=Ee(Ee({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:Ko(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},ao=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f;return Ce(this,(function(d){switch(d.label){case 0:return r=[Ee({},e)],f={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=Jo(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return s=[{}],[4,fo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 4:return a=[{}],[4,mo(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 6:return u=[{}],[4,yo(n,t)];case 7:return i=Ee.apply(void 0,[Ee.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=Ee(Ee({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:Ko(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},uo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f;return Ce(this,(function(d){switch(d.label){case 0:return r=[Ee({},e)],f={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=Jo(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return s=[{}],[4,fo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 4:return a=[{}],[4,mo(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 6:return u=[{}],[4,yo(n,t)];case 7:return i=Ee.apply(void 0,[Ee.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:Ko(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=Ee(Ee({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:Ko(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},co=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p;return Ce(this,(function(g){switch(g.label){case 0:return r=[Ee({},e)],p={},[4,$o(e.body,t)];case 1:switch(n=Ee.apply(void 0,r.concat([(p.body=g.sent(),p)])),o="UnknownError",o=Jo(e,n.body),o){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return s=[{}],[4,lo(n,t)];case 3:return i=Ee.apply(void 0,[Ee.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 4:return a=[{}],[4,fo(n,t)];case 5:return i=Ee.apply(void 0,[Ee.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 6:return u=[{}],[4,ho(n,t)];case 7:return i=Ee.apply(void 0,[Ee.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 8:return c=[{}],[4,mo(n,t)];case 9:return i=Ee.apply(void 0,[Ee.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 10:return l=[{}],[4,yo(n,t)];case 11:return i=Ee.apply(void 0,[Ee.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 12:return f=[{}],[4,wo(n,t)];case 13:return i=Ee.apply(void 0,[Ee.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:Ko(e)}]),[3,15];case 14:d=n.body,o=d.code||d.Code||o,i=Ee(Ee({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:Ko(e)}),g.label=15;case 15:return h=i.message||i.Message||o,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},lo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=To(n,t),[2,Ee({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:Ko(e)},r)]}))}))},fo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Oo(n,t),[2,Ee({name:"InvalidParameterException",$fault:"client",$metadata:Ko(e)},r)]}))}))},ho=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Mo(n,t),[2,Ee({name:"InvalidSequenceTokenException",$fault:"client",$metadata:Ko(e)},r)]}))}))},po=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Lo(n,t),[2,Ee({name:"LimitExceededException",$fault:"client",$metadata:Ko(e)},r)]}))}))},go=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Do(n,t),[2,Ee({name:"OperationAbortedException",$fault:"client",$metadata:Ko(e)},r)]}))}))},vo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=qo(n,t),[2,Ee({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:Ko(e)},r)]}))}))},mo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=zo(n,t),[2,Ee({name:"ResourceNotFoundException",$fault:"client",$metadata:Ko(e)},r)]}))}))},yo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Ho(n,t),[2,Ee({name:"ServiceUnavailableException",$fault:"server",$metadata:Ko(e)},r)]}))}))},wo=function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n=e.body,r=Go(n,t),[2,Ee({name:"UnrecognizedClientException",$fault:"client",$metadata:Ko(e)},r)]}))}))},bo=function(e,t){return Ee(Ee(Ee({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:ko(e.tags,t)})},So=function(e,t){return Ee(Ee({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})},Ao=function(e,t){return Ee(Ee(Ee({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},Eo=function(e,t){return Ee(Ee(Ee(Ee(Ee(Ee({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})},_o=function(e,t){return Ee(Ee(Ee(Ee(Ee(Ee(Ee({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},Co=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Ee(Ee({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},Io=function(e,t){return Ee(Ee(Ee(Ee({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:Co(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})},ko=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Ie(t,2),i=r[0],o=r[1];return null===o?e:Ee(Ee({},e),((n={})[i]=o,n))}),{})},To=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},xo=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?Ro(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Po=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?No(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Uo=function(e,t){return{events:void 0!==e.events&&null!==e.events?Fo(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}},Oo=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Mo=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},Lo=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ro=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},No=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},Do=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Fo=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},jo=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?Bo(e.rejectedLogEventsInfo,t):void 0}},Bo=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},qo=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},zo=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ho=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Go=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ko=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Vo=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Wo=function(e,t,n,r,i){return _e(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return Ce(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new ze(l)]}}))}))},$o=function(e,t){return function(e,t){return Vo(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Jo=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Yo={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Zo={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Qo(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Me(void 0,void 0,void 0,(function(){var i,o;return Le(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:return i=s.sent().response,[4,t(i,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),Yo),r.add(function(e,t){return function(n,r){return function(r){return Me(void 0,void 0,void 0,(function(){var i;return Le(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(Ue(Ue({},r),{request:i}))]}}))}))}}}(e,t),Zo)}}}var Xo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:pr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(bo(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n;return Ce(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,io(e,t)]:[4,Vo(e.body,t)];case 1:return r.sent(),n={$metadata:Ko(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(tr),es=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:gr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(So(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n;return Ce(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,oo(e,t)]:[4,Vo(e.body,t)];case 1:return r.sent(),n={$metadata:Ko(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(tr),ts=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:Nr.filterSensitiveLog,outputFilterSensitiveLog:Fr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(Ao(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i;return Ce(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,so(e,t)]:[4,$o(e.body,t)];case 1:return n=o.sent(),r=xo(n,t),i=Ee({$metadata:Ko(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),ns=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:qr.filterSensitiveLog,outputFilterSensitiveLog:Hr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(Eo(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i;return Ce(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ao(e,t)]:[4,$o(e.body,t)];case 1:return n=o.sent(),r=Po(n,t),i=Ee({$metadata:Ko(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),rs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:gi.filterSensitiveLog,outputFilterSensitiveLog:mi.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(_o(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i;return Ce(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,uo(e,t)]:[4,$o(e.body,t)];case 1:return n=o.sent(),r=Uo(n,t),i=Ee({$metadata:Ko(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),is=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ae(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:Li.filterSensitiveLog,outputFilterSensitiveLog:Ni.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r;return Ce(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(Io(e,t)),[2,Wo(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return _e(void 0,void 0,void 0,(function(){var n,r,i;return Ce(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,co(e,t)]:[4,$o(e.body,t)];case 1:return n=o.sent(),r=jo(n,t),i=Ee({$metadata:Ko(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),os=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ss=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},as=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},us=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(as(arguments[t]));return e},cs=new v.ConsoleLogger("AWSCloudWatch"),ls=(function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,ge.parseMobileHubConfig(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return os(this,void 0,void 0,(function(){var t,n;return ss(this,(function(r){switch(r.label){case 0:cs.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new Xo(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(b);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),cs.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return os(this,void 0,void 0,(function(){var t,n;return ss(this,(function(r){switch(r.label){case 0:cs.debug("getting list of log groups"),t=new ts(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(b);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),cs.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return os(this,void 0,void 0,(function(){var t,n;return ss(this,(function(r){switch(r.label){case 0:cs.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new es(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(b);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),cs.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return os(this,void 0,void 0,(function(){var t,n;return ss(this,(function(r){switch(r.label){case 0:cs.debug("getting list of log streams"),t=new ns(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(b);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),cs.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return os(this,void 0,void 0,(function(){var t,n;return ss(this,(function(r){switch(r.label){case 0:cs.debug("getting log events from stream - ",e.logStreamName),t=new rs(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(b);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),cs.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){cs.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=us(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return os(this,void 0,void 0,(function(){var t,n,r,i;return ss(this,(function(o){switch(o.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!o.sent())throw new Error(b);return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=o.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return o.sent(),[2,null];case 5:throw r=o.sent(),i="failure during log group search: "+r,cs.error(i),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return os(this,void 0,void 0,(function(){var n,r,i,o;return ss(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error(b);return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=s.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return s.sent(),[2,null];case 4:throw i=s.sent(),o="failure during log stream search: "+i,cs.error(o),i;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return os(this,void 0,void 0,(function(){var t,n,r;return ss(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error(b);return cs.debug("sending log events to stream - ",e.logStreamName),t=new is(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,i.sent()];case 3:return n=i.sent(),r="failure during log push: "+n,cs.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new ro({region:this._config.region,credentials:this._config.credentials,customUserAgent:U(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return os(this,void 0,void 0,(function(){var e=this;return ss(this,(function(t){switch(t.label){case 0:return[4,ls.Credentials.get().then((function(t){if(!t)return!1;var n=ls.Credentials.shear(t);return cs.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return cs.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return os(this,void 0,void 0,(function(){var e,t;return ss(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),cs.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return os(this,void 0,void 0,(function(){var e,t,n,r,i;return ss(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=o.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=o.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(i=o.sent(),cs.error("error during _safeUploadLogEvents: "+i),!S.includes(i.name))throw this._dataTracker.eventUploadInProgress=!1,i;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var i="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";cs.warn(i),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return os(this,void 0,void 0,(function(){var t,n,r;return ss(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=i.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=i.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=i.sent(),cs.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return os(e,void 0,void 0,(function(){var e;return ss(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),cs.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY=w}(),{});n(ls,"Credentials",(function(){return nc}),(function(e){return nc=e}));var fs={},ds=function(){function e(){}return e.setItem=function(e,t){return fs[e]=t,fs[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(fs,e)?fs[e]:void 0},e.removeItem=function(e){return delete fs[e]},e.clear=function(){return fs={}},e}(),hs=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=ds}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),ps={};n(ps,"GoogleOAuth",(function(){return Ms}),(function(e){return Ms=e}));var gs={};n(gs,"urlSafeDecode",(function(){return Ts})),n(gs,"urlSafeEncode",(function(){return ks}));var vs={};n(vs,"NonRetryableError",(function(){return _s}),(function(e){return _s=e})),n(vs,"jitteredExponentialRetry",(function(){return Is}),(function(e){return Is=e}));var ms,ys=(ms=function(e,t){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ms(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ws=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},bs=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Ss=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},As=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ss(arguments[t]));return e},Es=new v.ConsoleLogger("Util"),_s=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return ys(t,e),t}(Error);function Cs(e,t,n,r){return void 0===r&&(r=1),ws(this,void 0,void 0,(function(){var i,o;return bs(this,(function(s){switch(s.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");Es.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,As(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),Es.debug("error on "+e.name,i),(a=i)&&a.nonRetryable)throw Es.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),Es.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return s.sent(),[4,Cs(e,t,n,r+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var a}))}))}var Is=function(e,t,n){return void 0===n&&(n=3e5),Cs(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))};function ks(e){return e.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join("")}function Ts(e){return e.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")}r(gs,vs),r(gs,{});var xs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ps=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Us=new v.ConsoleLogger("CognitoCredentials"),Os=new Promise((function(e,t){return le().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(Us.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Us.debug("not in the browser, directly resolved"),e())})),Ms=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return xs(this,void 0,void 0,(function(){return Ps(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Us.debug("need to wait for the Google SDK loaded"),[4,Os]);case 1:e.sent(),this.initialized=!0,Us.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return le().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(Us.debug("google Auth undefined"),n(new vs.NonRetryableError("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(Us.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new vs.NonRetryableError("Failed to reload google auth response"))}))):n(new vs.NonRetryableError("User is not signed in with Google"))})).catch((function(e){Us.debug("Failed to refresh google token",e),n(new vs.NonRetryableError("Failed to refresh google token"))}))})):(Us.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),Ls={};n(Ls,"FacebookOAuth",(function(){return js}),(function(e){return js=e}));var Rs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ns=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Ds=new v.ConsoleLogger("CognitoCredentials"),Fs=new Promise((function(e,t){return le().isBrowser?window.FB?(Ds.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Ds.debug("not in the browser, directly resolved"),e())})),js=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return Rs(this,void 0,void 0,(function(){return Ns(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Ds.debug("need to wait for the Facebook SDK loaded"),[4,Fs]);case 1:e.sent(),this.initialized=!0,Ds.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(le().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return Ds.debug(t),Promise.reject(new vs.NonRetryableError(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";Ds.debug(s),n(new vs.NonRetryableError(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";Ds.debug(s),n(new vs.NonRetryableError(s))}}),{scope:"public_profile,email"})}))},e}(),Bs=new ps.GoogleOAuth,qs=new Ls.FacebookOAuth,zs=function(e,t){return(zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Hs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Gs=function(){return Gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gs.apply(this,arguments)};function Ks(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Vs(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function Ws(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var $s;$s=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}');Dt=f("9Dbjc");var Js,Ys,Zs,Qs,Xs,ea,ta,na,ra,ia,oa,sa,aa,ua,ca,la,fa,da,ha,pa,ga,va,ma,ya,wa,ba,Sa,Aa,Ea,_a,Ca,Ia,ka,Ta,xa,Pa,Ua,Oa,Ma,La,Ra,Na,Da,Fa,ja,Ba,qa,za,Ha,Ga,Ka,Va,Wa,$a,Ja,Ya,Za,Qa,Xa,eu,tu,nu="cognito-identity.{region}.amazonaws.com",ru=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),iu=new Set(["cn-north-1","cn-northwest-1"]),ou=new Set(["us-iso-east-1"]),su=new Set(["us-isob-east-1"]),au=new Set(["us-gov-east-1","us-gov-west-1"]),uu={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:ru.has(e)&&(n={hostname:nu.replace("{region}",e),partition:"aws"}),iu.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ou.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),su.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),au.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:nu.replace("{region}",e),partition:"aws"})}return Promise.resolve(Gs({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:Gt},cu=Gs(Gs({},uu),{runtime:"browser",base64Decoder:Xe,base64Encoder:et,bodyLengthChecker:Ot,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Nt({serviceId:uu.serviceId,clientVersion:i($s).version}),maxAttempts:3,region:it("Region is missing"),requestHandler:new Ke,sha256:Te.Sha256,streamCollector:tt,utf8Decoder:Dt.fromUtf8,utf8Encoder:Dt.toUtf8}),lu=function(e){function t(t){var n=this,r=Gs(Gs({},cu),t),i=Yt(r),o=qn(Wt(i)),s=Vn(Pt(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(st(n.config)),n.middlewareStack.use(en(n.config)),n.middlewareStack.use(nn(n.config)),n.middlewareStack.use(on(n.config)),n.middlewareStack.use(Yn(n.config)),n}return Hs(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(er);(Ys=Js||(Js={})).AUTHENTICATED_ROLE="AuthenticatedRole",Ys.DENY="Deny",(Zs||(Zs={})).filterSensitiveLog=function(e){return Gs({},e)},(Qs||(Qs={})).filterSensitiveLog=function(e){return Gs({},e)},(Xs||(Xs={})).filterSensitiveLog=function(e){return Gs({},e)},(ea||(ea={})).filterSensitiveLog=function(e){return Gs({},e)},function(e){e.filterSensitiveLog=function(e){return Gs({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return Gs({},e)}}(na||(na={})),(ra||(ra={})).filterSensitiveLog=function(e){return Gs({},e)},(ia||(ia={})).filterSensitiveLog=function(e){return Gs({},e)},(oa||(oa={})).filterSensitiveLog=function(e){return Gs({},e)},(sa||(sa={})).filterSensitiveLog=function(e){return Gs({},e)},(ua=aa||(aa={})).ACCESS_DENIED="AccessDenied",ua.INTERNAL_SERVER_ERROR="InternalServerError",(ca||(ca={})).filterSensitiveLog=function(e){return Gs({},e)},(la||(la={})).filterSensitiveLog=function(e){return Gs({},e)},(fa||(fa={})).filterSensitiveLog=function(e){return Gs({},e)},function(e){e.filterSensitiveLog=function(e){return Gs({},e)}}(da||(da={})),(ha||(ha={})).filterSensitiveLog=function(e){return Gs({},e)},(pa||(pa={})).filterSensitiveLog=function(e){return Gs({},e)},(ga||(ga={})).filterSensitiveLog=function(e){return Gs({},e)},(va||(va={})).filterSensitiveLog=function(e){return Gs({},e)},(ma||(ma={})).filterSensitiveLog=function(e){return Gs({},e)},(ya||(ya={})).filterSensitiveLog=function(e){return Gs({},e)},(wa||(wa={})).filterSensitiveLog=function(e){return Gs({},e)},(ba||(ba={})).filterSensitiveLog=function(e){return Gs({},e)},(Sa||(Sa={})).filterSensitiveLog=function(e){return Gs({},e)},(Aa||(Aa={})).filterSensitiveLog=function(e){return Gs({},e)},(Ea||(Ea={})).filterSensitiveLog=function(e){return Gs({},e)},(Ca=_a||(_a={})).CONTAINS="Contains",Ca.EQUALS="Equals",Ca.NOT_EQUAL="NotEqual",Ca.STARTS_WITH="StartsWith",(Ia||(Ia={})).filterSensitiveLog=function(e){return Gs({},e)},(ka||(ka={})).filterSensitiveLog=function(e){return Gs({},e)},(xa=Ta||(Ta={})).RULES="Rules",xa.TOKEN="Token",(Pa||(Pa={})).filterSensitiveLog=function(e){return Gs({},e)},(Ua||(Ua={})).filterSensitiveLog=function(e){return Gs({},e)},(Oa||(Oa={})).filterSensitiveLog=function(e){return Gs({},e)},(Ma||(Ma={})).filterSensitiveLog=function(e){return Gs({},e)},(La||(La={})).filterSensitiveLog=function(e){return Gs({},e)},(Ra||(Ra={})).filterSensitiveLog=function(e){return Gs({},e)},(Na||(Na={})).filterSensitiveLog=function(e){return Gs({},e)},(Da||(Da={})).filterSensitiveLog=function(e){return Gs({},e)},(Fa||(Fa={})).filterSensitiveLog=function(e){return Gs({},e)},(ja||(ja={})).filterSensitiveLog=function(e){return Gs({},e)},(Ba||(Ba={})).filterSensitiveLog=function(e){return Gs({},e)},(qa||(qa={})).filterSensitiveLog=function(e){return Gs({},e)},(za||(za={})).filterSensitiveLog=function(e){return Gs({},e)},(Ha||(Ha={})).filterSensitiveLog=function(e){return Gs({},e)},(Ga||(Ga={})).filterSensitiveLog=function(e){return Gs({},e)},(Ka||(Ka={})).filterSensitiveLog=function(e){return Gs({},e)},(Va||(Va={})).filterSensitiveLog=function(e){return Gs({},e)},(Wa||(Wa={})).filterSensitiveLog=function(e){return Gs({},e)},($a||($a={})).filterSensitiveLog=function(e){return Gs({},e)},(Ja||(Ja={})).filterSensitiveLog=function(e){return Gs({},e)},(Ya||(Ya={})).filterSensitiveLog=function(e){return Gs({},e)},(Za||(Za={})).filterSensitiveLog=function(e){return Gs({},e)},(Qa||(Qa={})).filterSensitiveLog=function(e){return Gs({},e)},(Xa||(Xa={})).filterSensitiveLog=function(e){return Gs({},e)},(eu||(eu={})).filterSensitiveLog=function(e){return Gs({},e)},(tu||(tu={})).filterSensitiveLog=function(e){return Gs({},e)};var fu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Vs(this,(function(m){switch(m.label){case 0:return r=[Gs({},e)],v={},[4,Bu(e.body,t)];case 1:switch(n=Gs.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=qu(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,hu(n,t)];case 3:return i=Gs.apply(void 0,[Gs.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 4:return a=[{}],[4,pu(n,t)];case 5:return i=Gs.apply(void 0,[Gs.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 6:return u=[{}],[4,gu(n,t)];case 7:return i=Gs.apply(void 0,[Gs.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 8:return c=[{}],[4,vu(n,t)];case 9:return i=Gs.apply(void 0,[Gs.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 10:return l=[{}],[4,yu(n,t)];case 11:return i=Gs.apply(void 0,[Gs.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 12:return f=[{}],[4,wu(n,t)];case 13:return i=Gs.apply(void 0,[Gs.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 14:return d=[{}],[4,bu(n,t)];case 15:return i=Gs.apply(void 0,[Gs.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 16:return h=[{}],[4,Su(n,t)];case 17:return i=Gs.apply(void 0,[Gs.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Gs(Gs({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Du(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},du=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Vs(this,(function(m){switch(m.label){case 0:return r=[Gs({},e)],v={},[4,Bu(e.body,t)];case 1:switch(n=Gs.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=qu(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,hu(n,t)];case 3:return i=Gs.apply(void 0,[Gs.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 4:return a=[{}],[4,pu(n,t)];case 5:return i=Gs.apply(void 0,[Gs.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 6:return u=[{}],[4,vu(n,t)];case 7:return i=Gs.apply(void 0,[Gs.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 8:return c=[{}],[4,mu(n,t)];case 9:return i=Gs.apply(void 0,[Gs.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 10:return l=[{}],[4,yu(n,t)];case 11:return i=Gs.apply(void 0,[Gs.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 12:return f=[{}],[4,wu(n,t)];case 13:return i=Gs.apply(void 0,[Gs.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 14:return d=[{}],[4,bu(n,t)];case 15:return i=Gs.apply(void 0,[Gs.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 16:return h=[{}],[4,Su(n,t)];case 17:return i=Gs.apply(void 0,[Gs.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Du(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Gs(Gs({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Du(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},hu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Iu(n,t),[2,Gs({name:"ExternalServiceException",$fault:"client",$metadata:Du(e)},r)]}))}))},pu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=xu(n,t),[2,Gs({name:"InternalErrorException",$fault:"server",$metadata:Du(e)},r)]}))}))},gu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Pu(n,t),[2,Gs({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Du(e)},r)]}))}))},vu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Uu(n,t),[2,Gs({name:"InvalidParameterException",$fault:"client",$metadata:Du(e)},r)]}))}))},mu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Ou(n,t),[2,Gs({name:"LimitExceededException",$fault:"client",$metadata:Du(e)},r)]}))}))},yu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Mu(n,t),[2,Gs({name:"NotAuthorizedException",$fault:"client",$metadata:Du(e)},r)]}))}))},wu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Lu(n,t),[2,Gs({name:"ResourceConflictException",$fault:"client",$metadata:Du(e)},r)]}))}))},bu=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Ru(n,t),[2,Gs({name:"ResourceNotFoundException",$fault:"client",$metadata:Du(e)},r)]}))}))},Su=function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n=e.body,r=Nu(n,t),[2,Gs({name:"TooManyRequestsException",$fault:"client",$metadata:Du(e)},r)]}))}))},Au=function(e,t){return Gs(Gs(Gs({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:_u(e.Logins,t)})},Eu=function(e,t){return Gs(Gs(Gs({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:_u(e.Logins,t)})},_u=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Ws(t,2),i=r[0],o=r[1];return null===o?e:Gs(Gs({},e),((n={})[i]=o,n))}),{})},Cu=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Iu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ku=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Cu(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Tu=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},xu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Pu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Uu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ou=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Mu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Lu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ru=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Nu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Du=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Fu=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ju=function(e,t,n,r,i){return Ks(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return Vs(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new ze(l)]}}))}))},Bu=function(e,t){return function(e,t){return Fu(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},qu=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},zu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Hs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:ma.filterSensitiveLog,outputFilterSensitiveLog:wa.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(Au(e,t)),[2,ju(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r,i;return Vs(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,fu(e,t)]:[4,Bu(e.body,t)];case 1:return n=o.sent(),r=ku(n,t),i=Gs({$metadata:Du(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),Hu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Hs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Sa.filterSensitiveLog,outputFilterSensitiveLog:Aa.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r;return Vs(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Eu(e,t)),[2,ju(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ks(void 0,void 0,void 0,(function(){var n,r,i;return Vs(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,du(e,t)]:[4,Bu(e.body,t)];case 1:return n=o.sent(),r=Tu(n,t),i=Gs({$metadata:Du(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(tr),Gu=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Pe(t,e),t}(Error);function Ku(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=De(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Vu(e){var t=this;return function(){return Me(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h;return Le(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=zu.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Ku(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(zu,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Gu("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Gu("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new Gu("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var Wu="IdentityIds",$u=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Wu,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Wu,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Wu)))})).catch((function(e){throw n.close(),e}))}))},e}(),Ju=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Yu(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new $u:"object"==typeof window&&window.localStorage?window.localStorage:Ju:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return Me(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,g,v;return Le(this,(function(m){switch(m.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=Hu.bind,v={AccountId:n,IdentityPoolId:a},u?[4,Ku(u)]:[3,4]);case 3:return g=m.sent(),[3,5];case 4:g=void 0,m.label=5;case 5:return[4,h.apply(l,[new(p.apply(Hu,[void 0,(v.Logins=g,v)]))])];case 6:r=m.sent().IdentityId,c=void 0===r?function(){throw new Gu("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),m.label=7;case 7:return[2,(d=Vu({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return Me(t,void 0,void 0,(function(){return Le(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var Zu=function(){return Zu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zu.apply(this,arguments)},Qu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Xu=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},ec=new v.ConsoleLogger("Credentials"),tc=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Bs.refreshGoogleToken,this._refreshHandlers.facebook=qs.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Zu(Zu({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new hs).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ec.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return ec.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?ec.debug("getting old cred promise"):(ec.debug("getting new cred promise"),this._gettingCredPromise=ue(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Qu(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return Xu(this,(function(a){switch(a.label){case 0:if(ec.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return ec.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(ec.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?g.Amplify.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];ec.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return i=a.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),ec.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){ec.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return ec.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(ec.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(ec.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(ec.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return vs.jitteredExponentialRetry(n,[],1e4).then((function(e){return ec.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),ec.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return ec.debug("no credentials for expiration check"),!0;ec.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Qu(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a=this;return Xu(this,(function(u){switch(u.label){case 0:return ec.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(ec.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(ec.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=u.sent(),o=new lu({region:n,customUserAgent:U()}),s=void 0,s=r?Vu({identityId:r,client:o})():function(){return Qu(a,void 0,void 0,(function(){var e;return Xu(this,(function(n){switch(n.label){case 0:return[4,o.send(new Hu({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Vu({client:o,identityId:e})()]}}))}))}().catch((function(e){return Qu(a,void 0,void 0,(function(){return Xu(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return Qu(a,void 0,void 0,(function(){var n=this;return Xu(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(ec.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),s=function(){return Qu(n,void 0,void 0,(function(){var e;return Xu(this,(function(n){switch(n.label){case 0:return[4,o.send(new Hu({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Vu({client:o,identityId:e})()]}}))}))}().catch((function(e){return Qu(n,void 0,void 0,(function(){return Xu(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return ec.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return ec.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new lu({region:u,customUserAgent:U()}),l=void 0;r?l=Vu({identityId:r,logins:o,client:c})():l=Yu({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;ec.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return ec.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return ec.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new lu({region:i,customUserAgent:U()}),c=Qu(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,l,f,d;return Xu(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Hu({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new zu({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(ec.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&ec.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:c,identityId:d}]}}))})).catch((function(e){return Qu(t,void 0,void 0,(function(){return Xu(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(s,a){e.then((function(e){return Qu(i,void 0,void 0,(function(){var i,a,u,c,l;return Xu(this,(function(f){switch(f.label){case 0:if(ec.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){ec.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return ec.debug("Failed to load credentials",e),ec.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(ec.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Qu(this,void 0,void 0,(function(){return Xu(this,(function(e){return this._credentials=null,this._credentials_source=null,ec.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Qu(this,void 0,void 0,(function(){var e,t;return Xu(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),ec.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Qu(this,void 0,void 0,(function(){var t,n;return Xu(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),ec.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Qu(this,void 0,void 0,(function(){var e;return Xu(this,(function(t){return e=this._config.identityPoolId,ec.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),nc=new tc(null);g.Amplify.register(nc);var rc,ic,oc={};n(oc,"default",(function(){return hc}),(function(e){return hc=e})),rc=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(uc),o=r.decode||sc,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var c=a.substr(0,u).trim(),l=a.substr(++u,a.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),null==n[c]&&(n[c]=lc(l,o))}}return n},ic=function(e,t,n){var r=n||{},i=r.encode||ac;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!cc.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!cc.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=r.maxAge){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!cc.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!cc.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var sc=decodeURIComponent,ac=encodeURIComponent,uc=/; */,cc=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function lc(e,t){try{return t(e)}catch(t){return e}}function fc(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var dc=function(){return dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dc.apply(this,arguments)},hc=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?rc(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=rc(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),fc(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=fc(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=dc(dc({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ic(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=dc(dc({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=dc({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ic(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),pc=oc.default,gc=le().isBrowser,vc=function(){function e(e){void 0===e&&(e={}),this.cookies=new pc,this.store=gc?window.localStorage:Object.create(null),this.cookies=e.req?new pc(e.req.headers.cookie):new pc,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":gc?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}();P.userAgent,g.Amplify;r(p,ge),r(p,gs);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var mc=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),yc=f("ecqrZ");f.register("ekAjQ",(function(t,n){var r,i;r=this,i=function(){var t=t||function(t,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==e&&e.crypto&&(r=e.crypto),!r)try{r=f("6AuhB")}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},u=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),l=s.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,l=t.min(4*u,o);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(a.Hasher=g.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return t},"object"==typeof n?t.exports=n=i():"function"==typeof define&&define.amd?define([],i):r.CryptoJS=i()})),f.register("6AuhB",(function(e,t){}));var wc=f("ekAjQ");f.register("abaM2",(function(e,t){var n,r;n=this,r=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray},"object"==typeof t?e.exports=t=r(f("ekAjQ")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)})),f("abaM2"),f.register("jcngT",(function(e,t){var n,r;n=this,r=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[h-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[h]=g+c[h-7]+m+c[h-16]}var y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[h]+c[h];d=f,f=l,l=a,a=s+b|0,s=o,o=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256},"object"==typeof t?e.exports=t=r(f("ekAjQ")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var bc=f("jcngT");f.register("2EsJ7",(function(e,t){var n,r;n=this,r=function(e){return e.HmacSHA256},"object"==typeof t?e.exports=t=r(f("ekAjQ"),f("jcngT"),f("a9CtL")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],r):r(n.CryptoJS)})),f.register("a9CtL",(function(e,t){var n,r;n=this,r=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"==typeof t?e.exports=t=r(f("ekAjQ")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var Sc,Ac=f("2EsJ7");if("undefined"!=typeof window&&window.crypto&&(Sc=window.crypto),!Sc&&"undefined"!=typeof window&&window.msCrypto&&(Sc=window.msCrypto),!Sc&&void 0!==e&&e.crypto&&(Sc=e.crypto),!Sc)try{Sc=f("6AuhB")}catch(e){}function Ec(){if(Sc){if("function"==typeof Sc.getRandomValues)try{return Sc.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Sc.randomBytes)try{return Sc.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var _c,Cc=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Ec());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),Ic=kc;function kc(e,t){null!=e&&this.fromString(e,t)}function Tc(){return new kc(null)}var xc="undefined"!=typeof navigator;xc&&"Microsoft Internet Explorer"==navigator.appName?(kc.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},_c=30):xc&&"Netscape"!=navigator.appName?(kc.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},_c=26):(kc.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},_c=28),kc.prototype.DB=_c,kc.prototype.DM=(1<<_c)-1,kc.prototype.DV=1<<_c;kc.prototype.FV=Math.pow(2,52),kc.prototype.F1=52-_c,kc.prototype.F2=2*_c-52;var Pc,Uc,Oc=new Array;for(Pc="0".charCodeAt(0),Uc=0;Uc<=9;++Uc)Oc[Pc++]=Uc;for(Pc="a".charCodeAt(0),Uc=10;Uc<36;++Uc)Oc[Pc++]=Uc;for(Pc="A".charCodeAt(0),Uc=10;Uc<36;++Uc)Oc[Pc++]=Uc;function Mc(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function Lc(e,t){var n=Oc[e.charCodeAt(t)];return null==n?-1:n}function Rc(e){var t=Tc();return t.fromInt(e),t}function Nc(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Dc(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Fc(e){return yc.Buffer.from((new Cc).random(e).toString(),"hex")}Dc.prototype.convert=function(e){var t=Tc();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(kc.ZERO)>0&&this.m.subTo(t,t),t},Dc.prototype.revert=function(e){var t=Tc();return e.copyTo(t),this.reduce(t),t},Dc.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Dc.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Dc.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},kc.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},kc.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},kc.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=Lc(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&kc.ZERO.subTo(this,this)},kc.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},kc.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},kc.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},kc.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},kc.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},kc.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},kc.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&kc.ZERO.subTo(t,t)},kc.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},kc.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Tc());var o=Tc(),s=this.s,a=e.s,u=this.DB-Nc(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,m=null==t?Tc():t;for(o.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),kc.ONE.dlShiftTo(c,m),m.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var y=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,y,n,v,0,c))<y)for(o.dlShiftTo(v,m),n.subTo(m,n);n[g]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&kc.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&kc.ZERO.subTo(n,n)}}},kc.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},kc.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},kc.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=Mc(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=Mc(n));return i?o:"0"},kc.prototype.negate=function(){var e=Tc();return kc.ZERO.subTo(this,e),e},kc.prototype.abs=function(){return this.s<0?this.negate():this},kc.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},kc.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Nc(this[this.t-1]^this.s&this.DM)},kc.prototype.mod=function(e){var t=Tc();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(kc.ZERO)>0&&e.subTo(t,t),t},kc.prototype.equals=function(e){return 0==this.compareTo(e)},kc.prototype.add=function(e){var t=Tc();return this.addTo(e,t),t},kc.prototype.subtract=function(e){var t=Tc();return this.subTo(e,t),t},kc.prototype.multiply=function(e){var t=Tc();return this.multiplyTo(e,t),t},kc.prototype.divide=function(e){var t=Tc();return this.divRemTo(e,t,null),t},kc.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=Rc(1),s=new Dc(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=Tc();for(s.sqrTo(a[1],f);u<=l;)a[u]=Tc(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,v=Tc();for(i=Nc(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(h=o,o=v,v=h),s.mulTo(v,a[d],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,v),h=o,o=v,v=h,--i<0&&(i=this.DB-1,--p)}var m=s.revert(o);return n(null,m),m},kc.ZERO=Rc(0),kc.ONE=Rc(1);var jc=/^[89a-f]/i,Bc=function(){function e(e){this.N=new Ic("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Ic("2",16),this.k=new Ic(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=yc.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=Fc(128).toString("hex");return new Ic(e,16)},t.generateRandomString=function(){return Fc(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=Fc(16).toString("hex");this.SaltToHashDevices=this.padHex(new Ic(s,16)),this.g.modPow(new Ic(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Ic.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Ic(this.UHexHash,16)},t.hash=function(e){var t=e instanceof yc.Buffer?i(wc).lib.WordArray.create(e):e,n=i(bc)(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(yc.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=i(wc).lib.WordArray.create(yc.Buffer.concat([this.infoBits,yc.Buffer.from(String.fromCharCode(1),"utf8")])),r=e instanceof yc.Buffer?i(wc).lib.WordArray.create(e):e,o=t instanceof yc.Buffer?i(wc).lib.WordArray.create(t):t,s=i(Ac)(r,o),a=i(Ac)(n,s);return yc.Buffer.from(a.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Ic.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Ic.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new Ic(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(yc.Buffer.from(o.padHex(t),"hex"),yc.Buffer.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Ic))throw new Error("Not a BigInteger");var t=e.compareTo(Ic.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=jc.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Ic(r,16).add(Ic.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),qc=(yc=f("ecqrZ"),function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(yc.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}());function zc(e,t){return(zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hc=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,zc(t,n),r}(qc);function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kc=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Gc(t,n),r}(qc),Vc=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */yc=f("ecqrZ"),wc=f("ekAjQ");f("abaM2"),f.register("5ccYD",(function(e,t){var n,r;n=this,r=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof t?e.exports=t=r(f("ekAjQ")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var Wc=f("5ccYD"),$c=(Ac=f("2EsJ7"),function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}()),Jc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zc=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Yc[e.getUTCDay()],n=Jc[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),Qc=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Xc={},el=function(){function e(){}return e.setItem=function(e,t){return Xc[e]=t,Xc[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Xc,e)?Xc[e]:void 0},e.removeItem=function(e){return delete Xc[e]},e.clear=function(){return Xc={}},e}(),tl=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=el}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),nl="undefined"!=typeof navigator?navigator.userAgent:"nodejs",rl=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new tl).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,s=new Bc(this.pool.getUserPoolId().split("_")[1]),a=new Zc,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,s.getLargeAValue((function(c,l){c&&t.onFailure(c),u.SRP_A=l.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var f=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),d={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:u,ClientMetadata:f};o.getUserContextData(o.username)&&(d.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",d,(function(u,c){if(u)return t.onFailure(u);var l=c.ChallengeParameters;o.username=l.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new Ic(l.SRP_B,16),r=new Ic(l.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),u=i(wc).lib.WordArray.create(yc.Buffer.concat([yc.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),yc.Buffer.from(o.username,"utf8"),yc.Buffer.from(l.SECRET_BLOCK,"base64"),yc.Buffer.from(r,"utf8")])),d=i(wc).lib.WordArray.create(n),h=i(Wc).stringify(i(Ac)(u,d)),p={};p.USERNAME=o.username,p.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=h,null!=o.deviceKey&&(p.DEVICE_KEY=o.deviceKey);var g={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:p,Session:c.Session,ClientMetadata:f};o.getUserContextData()&&(g.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(g,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,s,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new Bc(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:yc.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:yc.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:nl},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new Bc(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new Bc(this.deviceGroupKey),o=new Zc,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,u){a&&e.onFailure(a),s.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(c.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",c,(function(t,s){if(t)return e.onFailure(t);var a=s.ChallengeParameters,u=new Ic(a.SRP_B,16),c=new Ic(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,c,(function(t,r){if(t)return e.onFailure(t);var u=o.getNowString(),c=i(wc).lib.WordArray.create(yc.Buffer.concat([yc.Buffer.from(n.deviceGroupKey,"utf8"),yc.Buffer.from(n.deviceKey,"utf8"),yc.Buffer.from(a.SECRET_BLOCK,"base64"),yc.Buffer.from(u,"utf8")])),l=i(wc).lib.WordArray.create(r),f=i(Wc).stringify(i(Ac)(c,l)),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=u,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:s.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new Bc(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new Bc(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:yc.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:yc.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:nl},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new Qc(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new Kc({IdToken:this.storage.getItem(r)}),u=new Hc({AccessToken:this.storage.getItem(i)}),c=new Vc({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new $c({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new Kc(e),n=new Hc(e),r=new Vc(e);return new $c({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();f.register("7gXiS",(function(e,r){function i(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}t(e.exports),n(e.exports,"default",(function(){return i}))})),self.fetch||(self.fetch=f("7gXiS").default||f("7gXiS"));var il={userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(il.product=navigator.product||"",il.navigator=navigator||null,"ReactNative"===navigator.product)il.userAgent="aws-amplify/5.0.4 react-native",il.isReactNative=!0;else il.userAgent="aws-amplify/5.0.4 js",il.isReactNative=!1;function ol(){}ol.prototype.userAgent=il.userAgent;var sl=ol;function al(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fl(e,t)}function ul(e){var t="function"==typeof Map?new Map:void 0;return ul=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return cl(e,arguments,dl(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fl(r,e)},ul(e)}function cl(e,t,n){return(cl=ll()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fl(i,n.prototype),i}).apply(null,arguments)}function ll(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fl(e,t){return(fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hl=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return al(t,e),t}(ul(Error)),pl=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new hl(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ml);return vl(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":sl.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),gl=function(){};Error;function vl(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return gl(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(gl("error on "+e.name,i),(o=i)&&o.nonRetryable)throw gl(e.name+" non retryable error",i),i;var o,s=n(r,t,i);if(gl(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise((function(e){return setTimeout(e,s)})).then((function(){return vl(e,t,n,r+1)}));throw i}))}var ml=3e5;var yl=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new pl(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new tl).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new rl(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new rl(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),wl={};!function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof wl&&(wl=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}));var bl,Sl=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),wl.set(e,t,n),wl.get(e)},t.getItem=function(e){return wl.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),wl.remove(e,t)},t.clear=function(){for(var e=wl.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}();f.register("kxoj1",(function(t,n){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o=t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,u,c=2147483647,l=36,f=/^xn--/,d=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,v=String.fromCharCode;function m(e){throw new RangeError(p[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function w(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(h,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function S(e){return y(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?g(e/700):e>>1,e+=g(e/t);e>455;r+=l)e=g(e/35);return g(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,a,u,f,d,h,p=[],v=e.length,y=0,w=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,s=1,a=l;i>=v&&m("invalid-input"),((u=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>g((c-y)/s))&&m("overflow"),y+=u*s,!(u<(f=a<=b?1:a>=b+26?26:a-b));a+=l)s>g(c/(d=l-f))&&m("overflow"),s*=d;b=E(y-o,t=p.length+1,0==o),g(y/t)>c-w&&m("overflow"),w+=g(y/t),y%=t,p.splice(y++,0,w)}return S(p)}function C(e){var t,n,r,i,o,s,a,u,f,d,h,p,y,w,S,_=[];for(p=(e=b(e)).length,t=128,n=0,o=72,s=0;s<p;++s)(h=e[s])<128&&_.push(v(h));for(r=i=_.length,i&&_.push("-");r<p;){for(a=c,s=0;s<p;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>g((c-n)/(y=r+1))&&m("overflow"),n+=(a-t)*y,t=a,s=0;s<p;++s)if((h=e[s])<t&&++n>c&&m("overflow"),h==t){for(u=n,f=l;!(u<(d=f<=o?1:f>=o+26?26:f-o));f+=l)S=u-d,w=l-d,_.push(v(A(d+S%w,0))),u=g(S/w);_.push(v(A(u,0))),o=E(n,y,r==i),n=0,++r}++n,++t}return _.join("")}if(a={version:"1.4.1",ucs2:{decode:b,encode:S},decode:_,encode:C,toASCII:function(e){return w(e,(function(e){return d.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return w(e,(function(e){return f.test(e)?_(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(i&&o)if(t.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else r.punycode=a}(this)}));var Al,El=f("kxoj1");function _l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Al={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},bl=jl;var Cl,Il,kl=/^([a-z0-9.+-]+:)/i,Tl=/:[0-9]*$/,xl=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Pl=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ul=["'"].concat(Pl),Ol=["%","/","?",";","#"].concat(Ul),Ml=["/","?","#"],Ll=/^[+a-z0-9A-Z_-]{0,63}$/,Rl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Nl={javascript:!0,"javascript:":!0},Dl={javascript:!0,"javascript:":!0},Fl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function jl(e,t,n){if(e&&Al.isObject(e)&&e instanceof _l)return e;var r=new _l;return r.parse(e,t,n),r}f.register("afjkc",(function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,o){t=t||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,h,p,g=e[l].replace(a,"%20"),v=g.indexOf(i);v>=0?(f=g.substr(0,v),d=g.substr(v+1)):(f=g,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(s,h)?r(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),Cl=f("afjkc"),f.register("1s3YD",(function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,s,a){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var a=encodeURIComponent(n(o))+s;return r(e[o])?i(e[o],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[o]))})).join(t):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}})),Il=f("1s3YD"),_l.prototype.parse=function(e,t,n){if(!Al.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!n&&1===e.split("#").length){var a=xl.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Cl(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=kl.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&Dl[u]||(s=s.substr(2),this.slashes=!0)}if(!Dl[u]&&(l||u&&!Fl[u])){for(var f,d,h=-1,p=0;p<Ml.length;p++){-1!==(g=s.indexOf(Ml[p]))&&(-1===h||g<h)&&(h=g)}-1!==(d=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(f)),h=-1;for(p=0;p<Ol.length;p++){var g;-1!==(g=s.indexOf(Ol[p]))&&(-1===h||g<h)&&(h=g)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),y=(p=0,m.length);p<y;p++){var w=m[p];if(w&&!w.match(Ll)){for(var b="",S=0,A=w.length;S<A;S++)w.charCodeAt(S)>127?b+="x":b+=w[S];if(!b.match(Ll)){var E=m.slice(0,p),_=m.slice(p+1),C=w.match(Rl);C&&(E.push(C[1]),_.unshift(C[2])),_.length&&(s="/"+_.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=El.toASCII(this.hostname));var I=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Nl[c])for(p=0,y=Ul.length;p<y;p++){var T=Ul[p];if(-1!==s.indexOf(T)){var x=encodeURIComponent(T);x===T&&(x=escape(T)),s=s.split(T).join(x)}}var P=s.indexOf("#");-1!==P&&(this.hash=s.substr(P),s=s.slice(0,P));var U=s.indexOf("?");if(-1!==U?(this.search=s.substr(U),this.query=s.substr(U+1),t&&(this.query=Cl(this.query)),s=s.slice(0,U)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Fl[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var O=this.search||"";this.path=I+O}return this.href=this.format(),this},_l.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Al.isObject(this.query)&&Object.keys(this.query).length&&(o=Il(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Fl[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},_l.prototype.resolve=function(e){return this.resolveObject(jl(e,!1,!0)).format()},_l.prototype.resolveObject=function(e){if(Al.isString(e)){var t=new _l;t.parse(e,!1,!0),e=t}for(var n=new _l,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return Fl[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Fl[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var f=c[l];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Dl[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=v||g||n.host&&e.pathname,y=m,w=n.pathname&&n.pathname.split("/")||[],b=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Fl[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),m=m&&(""===d[0]||""===w[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=e.search,n.query=e.query;else if(!Al.isNullOrUndefined(e.search)){if(b)n.hostname=n.host=w.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,Al.isNull(n.pathname)&&Al.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=w.slice(-1)[0],A=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,E=0,_=w.length;_>=0;_--)"."===(S=w[_])?w.splice(_,1):".."===S?(w.splice(_,1),E++):E&&(w.splice(_,1),E--);if(!m&&!y)for(;E--;)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var C,I=""===w[0]||w[0]&&"/"===w[0].charAt(0);b&&(n.hostname=n.host=I?"":w.length?w.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(m=m||n.host&&w.length)&&!I&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),Al.isNull(n.pathname)&&Al.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},_l.prototype.parseHost=function(){var e=this.host,t=Tl.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Bl=e=>{const t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()};bc=f("jcngT"),Wc=f("5ccYD");const ql="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",zl=(e,t,n)=>{O.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",ql)},Hl=new v.ConsoleLogger("OAuth");class Gl{constructor({config:e,cognitoClientId:t,scopes:n=[]}){if(this._urlOpener=e.urlOpener||Bl,this._config=e,this._cognitoClientId=t,!this.isValidScopes(n))throw Error("scopes must be a String Array");this._scopes=n}isValidScopes(e){return Array.isArray(e)&&e.every((e=>"string"==typeof e))}oauthSignIn(e="code",t,n,r,i=o.Cognito,s){const a=this._generateState(32),u=s?`${a}-${ks(s)}`:a;(e=>{window.sessionStorage.setItem("oauth_state",e)})(u);const c=this._generateRandom(128);var l;l=c,window.sessionStorage.setItem("ouath_pkce_key",l);const f=this._generateChallenge(c),d=this._scopes.join(" "),h=`https://${t}/oauth2/authorize?${Object.entries({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:d,state:u,..."code"===e?{code_challenge:f}:{},..."code"===e?{code_challenge_method:"S256"}:{}}).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}`;Hl.debug(`Redirecting to ${h}`),this._urlOpener(h,n)}async _handleCodeFlow(e){const{code:t}=(bl(e).query||"").split("&").map((e=>e.split("="))).reduce(((e,[t,n])=>({...e,[t]:n})),{code:void 0}),n=bl(e).pathname||"/",r=bl(this._config.redirectSignIn).pathname||"/";if(!t||n!==r)return;const i="https://"+this._config.domain+"/oauth2/token";zl("codeFlow",{},`Retrieving tokens from ${i}`);const o=h(this._config)?this._cognitoClientId:this._config.clientID,s=h(this._config)?this._config.redirectSignIn:this._config.redirectUri,a=(()=>{const e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e})(),u={grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s,...a?{code_verifier:a}:{}};Hl.debug(`Calling token endpoint: ${i} with`,u);const c=Object.entries(u).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&"),{access_token:l,refresh_token:f,id_token:d,error:p}=await(await fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})).json();if(p)throw new Error(p);return{accessToken:l,refreshToken:f,idToken:d}}async _handleImplicitFlow(e){const{id_token:t,access_token:n}=(bl(e).hash||"#").substr(1).split("&").map((e=>e.split("="))).reduce(((e,[t,n])=>({...e,[t]:n})),{id_token:void 0,access_token:void 0});return zl("implicitFlow",{},`Got tokens from ${e}`),Hl.debug(`Retrieving implicit tokens from ${e} with`),{accessToken:n,idToken:t,refreshToken:null}}async handleAuthResponse(e){try{const t=e?{...(bl(e).hash||"#").substr(1).split("&").map((e=>e.split("="))).reduce(((e,[t,n])=>(e[t]=n,e)),{}),...(bl(e).query||"").split("&").map((e=>e.split("="))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}:{},{error:n,error_description:r}=t;if(n)throw new Error(r);const i=this._validateState(t);return Hl.debug(`Starting ${this._config.responseType} flow with ${e}`),"code"===this._config.responseType?{...await this._handleCodeFlow(e),state:i}:{...await this._handleImplicitFlow(e),state:i}}catch(e){throw Hl.error("Error handling auth response.",e),e}}_validateState(e){if(!e)return;const t=(()=>{const e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e})(),{state:n}=e;if(t&&t!==n)throw new Error("Invalid state in OAuth flow");return n}async signOut(){let e="https://"+this._config.domain+"/logout?";const t=h(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=h(this._config)?this._config.redirectSignOut:this._config.returnTo;return e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((([e,t])=>`${e}=${t}`)).join("&"),zl("oAuthSignOut",{oAuth:"signOut"},`Signing out from ${e}`),Hl.debug(`Signing out from ${e}`),this._urlOpener(e,n)}_generateState(e){let t="",n=e;const r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(;n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t}_generateChallenge(e){return this._base64URL(i(bc)(e))}_base64URL(e){return e.toString(i(Wc)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}_generateRandom(e){const t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(let n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)}_bufferToString(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];for(let r=0;r<e.byteLength;r+=1){const i=e[r]%t.length;n.push(t[i])}return n.join("")}}var Kl,Vl;(Vl=Kl||(Kl={})).DEFAULT_MSG="Authentication Error",Vl.EMPTY_EMAIL="Email cannot be empty",Vl.EMPTY_PHONE="Phone number cannot be empty",Vl.EMPTY_USERNAME="Username cannot be empty",Vl.INVALID_USERNAME="The username should either be a string or one of the sign in types",Vl.EMPTY_PASSWORD="Password cannot be empty",Vl.EMPTY_CODE="Confirmation code cannot be empty",Vl.SIGN_UP_ERROR="Error creating account",Vl.NO_MFA="No valid MFA method provided",Vl.INVALID_MFA="Invalid MFA type",Vl.EMPTY_CHALLENGE="Challenge response cannot be empty",Vl.NO_USER_SESSION="Failed to get the session because the user is empty",Vl.NETWORK_ERROR="Network Error",Vl.DEVICE_CONFIG="Device tracking has not been configured in this User Pool";const Wl=new v.ConsoleLogger("AuthError");class $l extends Error{constructor(e){const{message:t,log:n}=Yl[e];super(t),this.constructor=$l,Object.setPrototypeOf(this,$l.prototype),this.name="AuthError",this.log=n||t,Wl.error(this.log)}}class Jl extends $l{constructor(e){super(e),this.constructor=Jl,Object.setPrototypeOf(this,Jl.prototype),this.name="NoUserPoolError"}}const Yl={noConfig:{message:Kl.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Kl.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Kl.EMPTY_USERNAME},invalidUsername:{message:Kl.INVALID_USERNAME},emptyPassword:{message:Kl.EMPTY_PASSWORD},emptyCode:{message:Kl.EMPTY_CODE},signUpError:{message:Kl.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Kl.NO_MFA},invalidMFA:{message:Kl.INVALID_MFA},emptyChallengeResponse:{message:Kl.EMPTY_CHALLENGE},noUserSession:{message:Kl.NO_USER_SESSION},deviceConfig:{message:Kl.DEVICE_CONFIG},networkError:{message:Kl.NETWORK_ERROR},default:{message:Kl.DEFAULT_MSG}},Zl=new v.ConsoleLogger("AuthClass"),Ql="aws.cognito.signin.user.admin",Xl="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ef=(e,t,n)=>{O.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",Xl)};class tf{constructor(e){this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=ls.Credentials,this.wrapRefreshSessionCallback=e=>(t,n)=>(n?ef("tokenRefresh",void 0,"New token retrieved"):ef("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)),this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),O.Hub.listen("auth",(({payload:e})=>{const{event:t}=e;switch(t){case"signIn":this._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":this._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":this._storage.setItem("amplify-signin-with-hostedUI","true")}}))}getModuleName(){return"Auth"}configure(e){if(!e)return this._config||{};Zl.debug("configure Auth");const t=Object.assign({},this._config,ge.Parser.parseMobilehubConfig(e).Auth,e);this._config=t;const{userPoolId:n,userPoolWebClientId:r,cookieStorage:i,oauth:o,region:s,identityPoolId:a,mandatorySignIn:u,refreshHandlers:c,identityPoolRegion:l,clientMetadata:f,endpoint:d}=this._config;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Zl.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=i?new Sl(i):e.ssr?new vc:(new hs).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),n){const e={UserPoolId:n,ClientId:r,endpoint:d};e.Storage=this._storage,this.userPool=new yl(e,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:u,region:l||s,userPoolId:n,identityPoolId:a,refreshHandlers:c,storage:this._storage});const p=o?h(this._config.oauth)?o:o.awsCognito:void 0;if(p){const e=Object.assign({cognitoClientId:r,UserPoolId:n,domain:p.domain,scopes:p.scope,redirectSignIn:p.redirectSignIn,redirectSignOut:p.redirectSignOut,responseType:p.responseType,Storage:this._storage,urlOpener:p.urlOpener,clientMetadata:f},p.options);this._oAuthHandler=new Gl({scopes:e.scopes,config:e,cognitoClientId:e.cognitoClientId});const t={};(e=>{if(pe.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!pe.browserOrNode().isNode)throw new Error("Not supported")})((({url:e})=>{t[e]||(t[e]=!0,this._handleAuthResponse(e))}))}return ef("configured",null,"The Auth category has been configured successfully"),this._config}signUp(e,...t){if(!this.userPool)return this.rejectNoUserPool();let n=null,r=null;const i=[];let o,s=null;if(e&&"string"==typeof e){n=e,r=t?t[0]:null;const o=t?t[1]:null,s=t?t[2]:null;o&&i.push(new Qc({Name:"email",Value:o})),s&&i.push(new Qc({Name:"phone_number",Value:s}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(a.SignUpError);{n=e.username,r=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);const t=e.attributes;t&&Object.keys(t).map((e=>{i.push(new Qc({Name:e,Value:t[e]}))}));const a=e.validationData;a&&(s=[],Object.keys(a).map((e=>{s.push(new Qc({Name:e,Value:a[e]}))})))}}return n?r?(Zl.debug("signUp attrs:",i),Zl.debug("signUp validation data:",s),new Promise(((e,t)=>{this.userPool.signUp(n,r,i,s,((r,i)=>{r?(ef("signUp_failure",r,`${n} failed to signup`),t(r)):(ef("signUp",i,`${n} has signed up successfully`),e(i))}),o)}))):this.rejectAuthError(a.EmptyPassword):this.rejectAuthError(a.EmptyUsername)}confirmSignUp(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(a.EmptyUsername);if(!t)return this.rejectAuthError(a.EmptyCode);const r=this.createCognitoUser(e),i=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;let o;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise(((e,n)=>{r.confirmRegistration(t,i,((t,r)=>{t?n(t):e(r)}),o)}))}resendSignUp(e,t=this._config.clientMetadata){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(a.EmptyUsername);const n=this.createCognitoUser(e);return new Promise(((e,r)=>{n.resendConfirmationCode(((t,n)=>{t?r(t):e(n)}),t)}))}signIn(e,t,n=this._config.clientMetadata){if(!this.userPool)return this.rejectNoUserPool();let r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(a.InvalidUsername);void 0!==t&&Zl.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(a.EmptyUsername);const s=new mc({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)}authCallbacks(e,t,n){const r=this;return{onSuccess:async i=>{Zl.debug(i),delete e.challengeName,delete e.challengeParam;try{await this.Credentials.clear();const o=await this.Credentials.set(i,"session");Zl.debug("succeed to get cognito credentials",o)}catch(e){Zl.debug("cannot get cognito credentials",e)}finally{try{const n=await this.currentUserPoolUser();r.user=n,ef("signIn",n,`A user ${e.getUsername()} has been signed in`),t(n)}catch(e){Zl.error("Failed to get the signed in user",e),n(e)}}},onFailure:t=>{Zl.debug("signIn failure",t),ef("signIn_failure",t,`${e.getUsername()} failed to signin`),n(t)},customChallenge:n=>{Zl.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:(n,r)=>{Zl.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:(n,r)=>{Zl.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:(n,r)=>{Zl.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:(n,r)=>{Zl.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:(n,r)=>{Zl.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}}signInWithPassword(e){if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");const t=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(((n,r)=>{t.authenticateUser(e,this.authCallbacks(t,(e=>{this.pendingSignIn=null,n(e)}),(e=>{this.pendingSignIn=null,r(e)})))})),this.pendingSignIn}signInWithoutPassword(e){const t=this.createCognitoUser(e.getUsername());return t.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(((n,r)=>{t.initiateAuth(e,this.authCallbacks(t,n,r))}))}getMFAOptions(e){return new Promise(((t,n)=>{e.getMFAOptions(((e,r)=>{if(e)return Zl.debug("get MFA Options failed",e),void n(e);Zl.debug("get MFA options success",r),t(r)}))}))}getPreferredMFA(e,t){const n=this;return new Promise(((r,i)=>{const o=this._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData(((e,t)=>{if(e)return Zl.debug("getting preferred mfa failed",e),void i(e);const o=n._getMfaTypeFromUserData(t);return o?void r(o):void i("invalid MFA Type")}),{bypassCache:s,clientMetadata:o})}))}_getMfaTypeFromUserData(e){let t=null;const n=e.PreferredMfaSetting;if(n)t=n;else{const n=e.UserMFASettingList;if(n)0===n.length?t="NOMFA":Zl.debug("invalid case for getPreferredMFA",e);else{t=e.MFAOptions?"SMS_MFA":"NOMFA"}}return t}_getUserData(e,t){return new Promise(((n,r)=>{e.getUserData(((e,t)=>e?(Zl.debug("getting user data failed",e),void r(e)):void n(t)),t)}))}async setPreferredMFA(e,t){const n=this._config.clientMetadata,r=await this._getUserData(e,{bypassCache:!0,clientMetadata:n});let i=null,o=null;switch(t){case"TOTP":case"SOFTWARE_TOKEN_MFA":o={PreferredMfa:!0,Enabled:!0};break;case"SMS":case"SMS_MFA":i={PreferredMfa:!0,Enabled:!0};break;case"NOMFA":const e=r.UserMFASettingList,t=await this._getMfaTypeFromUserData(r);if("NOMFA"===t)return Promise.resolve("No change for mfa type");if("SMS_MFA"===t)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==t)return this.rejectAuthError(a.InvalidMFA);o={PreferredMfa:!1,Enabled:!1}}e&&0!==e.length&&e.forEach((e=>{"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}));break;default:return Zl.debug("no validmfa method provided"),this.rejectAuthError(a.NoMFA)}return new Promise(((t,r)=>{e.setUserMfaPreference(i,o,((i,o)=>{if(i)return Zl.debug("Set user mfa preference error",i),r(i);Zl.debug("Set user mfa success",o),Zl.debug("Caching the latest user data into local"),e.getUserData(((e,n)=>e?(Zl.debug("getting user data failed",e),r(e)):t(o)),{bypassCache:!0,clientMetadata:n})}))}))}disableSMS(e){return new Promise(((t,n)=>{e.disableMFA(((e,r)=>{if(e)return Zl.debug("disable mfa failed",e),void n(e);Zl.debug("disable mfa succeed",r),t(r)}))}))}enableSMS(e){return new Promise(((t,n)=>{e.enableMFA(((e,r)=>{if(e)return Zl.debug("enable mfa failed",e),void n(e);Zl.debug("enable mfa succeed",r),t(r)}))}))}setupTOTP(e){return new Promise(((t,n)=>{e.associateSoftwareToken({onFailure:e=>{Zl.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:e=>{Zl.debug("associateSoftwareToken sucess",e),t(e)}})}))}verifyTotpToken(e,t){return Zl.debug("verification totp token",e,t),new Promise(((n,r)=>{e.verifySoftwareToken(t,"My TOTP device",{onFailure:e=>{Zl.debug("verifyTotpToken failed",e),r(e)},onSuccess:t=>{ef("signIn",e,`A user ${e.getUsername()} has been signed in`),Zl.debug("verifyTotpToken success",t),n(t)}})}))}confirmSignIn(e,t,n,r=this._config.clientMetadata){if(!t)return this.rejectAuthError(a.EmptyCode);const i=this;return new Promise(((o,s)=>{e.sendMFACode(t,{onSuccess:async t=>{Zl.debug(t);try{await this.Credentials.clear();const n=await this.Credentials.set(t,"session");Zl.debug("succeed to get cognito credentials",n)}catch(e){Zl.debug("cannot get cognito credentials",e)}finally{i.user=e,ef("signIn",e,`A user ${e.getUsername()} has been signed in`),o(e)}},onFailure:e=>{Zl.debug("confirm signIn failure",e),s(e)}},n,r)}))}completeNewPassword(e,t,n={},r=this._config.clientMetadata){if(!t)return this.rejectAuthError(a.EmptyPassword);const i=this;return new Promise(((o,s)=>{e.completeNewPasswordChallenge(t,n,{onSuccess:async t=>{Zl.debug(t);try{await this.Credentials.clear();const n=await this.Credentials.set(t,"session");Zl.debug("succeed to get cognito credentials",n)}catch(e){Zl.debug("cannot get cognito credentials",e)}finally{i.user=e,ef("signIn",e,`A user ${e.getUsername()} has been signed in`),o(e)}},onFailure:e=>{Zl.debug("completeNewPassword failure",e),ef("completeNewPassword_failure",e,`${this.user} failed to complete the new password flow`),s(e)},mfaRequired:(t,n)=>{Zl.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,o(e)},mfaSetup:(t,n)=>{Zl.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,o(e)},totpRequired:(t,n)=>{Zl.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,o(e)}},r)}))}sendCustomChallengeAnswer(e,t,n=this._config.clientMetadata){if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(a.EmptyChallengeResponse);return new Promise(((r,i)=>{e.sendCustomChallengeAnswer(t,this.authCallbacks(e,r,i),n)}))}deleteUserAttributes(e,t){const n=this;return new Promise(((r,i)=>{n.userSession(e).then((n=>{e.deleteAttributes(t,((e,t)=>e?i(e):r(t)))}))}))}updateUserAttributes(e,t,n=this._config.clientMetadata){const r=[],i=this;return new Promise(((o,s)=>{i.userSession(e).then((i=>{for(const e in t)if("sub"!==e&&e.indexOf("_verified")<0){const n={Name:e,Value:t[e]};r.push(n)}e.updateAttributes(r,((e,t)=>e?s(e):o(t)),n)}))}))}userAttributes(e){return new Promise(((t,n)=>{this.userSession(e).then((r=>{e.getUserAttributes(((e,r)=>{e?n(e):t(r)}))}))}))}verifiedContact(e){const t=this;return this.userAttributes(e).then((e=>{const n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))}currentUserPoolUser(e){return this.userPool?new Promise(((t,n)=>{this._storageSync.then((async()=>{this.isOAuthInProgress()&&(Zl.debug("OAuth signIn in progress, waiting for resolution..."),await new Promise((e=>{const t=setTimeout((()=>{Zl.debug("OAuth signIn in progress timeout"),O.Hub.remove("auth",n),e()}),1e4);function n({payload:r}){const{event:i}=r;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Zl.debug(`OAuth signIn resolved: ${i}`),clearTimeout(t),O.Hub.remove("auth",n),e())}O.Hub.listen("auth",n)})));const r=this.userPool.getCurrentUser();if(!r)return Zl.debug("Failed to get user from user pool"),void n("No current user");const i=this._config.clientMetadata;r.getSession((async(i,o)=>{if(i)return Zl.debug("Failed to get the user session",i),void n(i);const s=!!e&&e.bypassCache;s&&await this.Credentials.clear();const a=this._config.clientMetadata,{scope:u=""}=o.getAccessToken().decodePayload();if(!u.split(" ").includes(Ql))return Zl.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),t(r);r.getUserData(((e,i)=>{if(e)return Zl.debug("getting user data failed",e),void("User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?n(e):t(r));const o=i.PreferredMfaSetting||"NOMFA",s=[];for(let e=0;e<i.UserAttributes.length;e++){const t={Name:i.UserAttributes[e].Name,Value:i.UserAttributes[e].Value},n=new Qc(t);s.push(n)}const a=this.attributesToObject(s);return Object.assign(r,{attributes:a,preferredMFA:o}),t(r)}),{bypassCache:s,clientMetadata:a})}),{clientMetadata:i})})).catch((e=>(Zl.debug("Failed to sync cache info into memory",e),n(e))))})):this.rejectNoUserPool()}isOAuthInProgress(){return this.oAuthFlowInProgress}async currentAuthenticatedUser(e){Zl.debug("getting current authenticated user");let t=null;try{await this._storageSync}catch(e){throw Zl.debug("Failed to sync cache info into memory",e),e}try{const e=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"));e&&(t={...e.user,token:e.token})}catch(e){Zl.debug("cannot load federated user from auth storage")}if(t)return this.user=t,Zl.debug("get current authenticated federated user",this.user),this.user;{Zl.debug("get current authenticated userpool user");let t=null;try{t=await this.currentUserPoolUser(e)}catch(e){return"No userPool"===e&&Zl.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Zl.debug("The user is not authenticated by the error",e),Promise.reject("The user is not authenticated")}return this.user=t,this.user}}currentSession(){const e=this;return Zl.debug("Getting current session"),this.userPool?new Promise(((t,n)=>{e.currentUserPoolUser().then((r=>{e.userSession(r).then((e=>{t(e)})).catch((e=>{Zl.debug("Failed to get the current session",e),n(e)}))})).catch((e=>{Zl.debug("Failed to get the current user",e),n(e)}))})):Promise.reject()}userSession(e){if(!e)return Zl.debug("the user is null"),this.rejectAuthError(a.NoUserSession);const t=this._config.clientMetadata;return new Promise(((n,r)=>{Zl.debug("Getting the session from this user:",e),e.getSession(((t,i)=>t?(Zl.debug("Failed to get the session from user",e),void r(t)):(Zl.debug("Succeed to get the user session",i),void n(i))),{clientMetadata:t})}))}async currentUserCredentials(){Zl.debug("Getting current user credentials");try{await this._storageSync}catch(e){throw Zl.debug("Failed to sync cache info into memory",e),e}let e=null;try{e=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Zl.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return e?this.Credentials.refreshFederatedToken(e):this.currentSession().then((e=>(Zl.debug("getting session success",e),this.Credentials.set(e,"session")))).catch((e=>(Zl.debug("getting session failed",e),this.Credentials.set(null,"guest"))))}currentCredentials(){return Zl.debug("getting current credentials"),this.Credentials.get()}verifyUserAttribute(e,t,n=this._config.clientMetadata){return new Promise(((r,i)=>{e.getAttributeVerificationCode(t,{onSuccess:e=>r(e),onFailure:e=>i(e)},n)}))}verifyUserAttributeSubmit(e,t,n){return n?new Promise(((r,i)=>{e.verifyAttribute(t,n,{onSuccess(e){r(e)},onFailure(e){i(e)}})})):this.rejectAuthError(a.EmptyCode)}verifyCurrentUserAttribute(e){const t=this;return t.currentUserPoolUser().then((n=>t.verifyUserAttribute(n,e)))}verifyCurrentUserAttributeSubmit(e,t){const n=this;return n.currentUserPoolUser().then((r=>n.verifyUserAttributeSubmit(r,e,t)))}async cognitoIdentitySignOut(e,t){try{await this._storageSync}catch(e){throw Zl.debug("Failed to sync cache info into memory",e),e}const n=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI");return new Promise(((r,i)=>{if(e&&e.global){Zl.debug("user global sign out",t);const e=this._config.clientMetadata;t.getSession(((e,o)=>{if(e)return Zl.debug("failed to get the user session",e),i(e);t.globalSignOut({onSuccess:e=>{if(Zl.debug("global sign out success"),!n)return r();this.oAuthSignOutRedirect(r,i)},onFailure:e=>(Zl.debug("global sign out failed",e),i(e))})}),{clientMetadata:e})}else Zl.debug("user sign out",t),t.signOut((()=>{if(!n)return r();this.oAuthSignOutRedirect(r,i)}))}))}oAuthSignOutRedirect(e,t){const{isBrowser:n}=pe.browserOrNode();n?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)}oAuthSignOutAndResolve(e){this._oAuthHandler.signOut(),e()}oAuthSignOutRedirectOrReject(e){this._oAuthHandler.signOut(),setTimeout((()=>e("Signout timeout fail")),3e3)}async signOut(e){try{await this.cleanCachedItems()}catch(e){Zl.debug("failed to clear cached items")}if(this.userPool){const t=this.userPool.getCurrentUser();t?await this.cognitoIdentitySignOut(e,t):Zl.debug("no current Cognito user")}else Zl.debug("no Congito User pool");ef("signOut",this.user,"A user has been signed out"),this.user=null}async cleanCachedItems(){await this.Credentials.clear()}changePassword(e,t,n,r=this._config.clientMetadata){return new Promise(((i,o)=>{this.userSession(e).then((s=>{e.changePassword(t,n,((e,t)=>e?(Zl.debug("change password failure",e),o(e)):i(t)),r)}))}))}forgotPassword(e,t=this._config.clientMetadata){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(a.EmptyUsername);const n=this.createCognitoUser(e);return new Promise(((r,i)=>{n.forgotPassword({onSuccess:()=>{r()},onFailure:t=>{Zl.debug("forgot password failure",t),ef("forgotPassword_failure",t,`${e} forgotPassword failed`),i(t)},inputVerificationCode:t=>{ef("forgotPassword",n,`${e} has initiated forgot password flow`),r(t)}},t)}))}forgotPasswordSubmit(e,t,n,r=this._config.clientMetadata){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(a.EmptyUsername);if(!t)return this.rejectAuthError(a.EmptyCode);if(!n)return this.rejectAuthError(a.EmptyPassword);const i=this.createCognitoUser(e);return new Promise(((o,s)=>{i.confirmPassword(t,n,{onSuccess:t=>{ef("forgotPasswordSubmit",i,`${e} forgotPasswordSubmit successful`),o(t)},onFailure:t=>{ef("forgotPasswordSubmit_failure",t,`${e} forgotPasswordSubmit failed`),s(t)}},r)}))}async currentUserInfo(){const e=this.Credentials.getCredSource();if(!e||"aws"===e||"userPool"===e){const e=await this.currentUserPoolUser().catch((e=>Zl.error(e)));if(!e)return null;try{const t=await this.userAttributes(e),n=this.attributesToObject(t);let r=null;try{r=await this.currentCredentials()}catch(e){Zl.debug("Failed to retrieve credentials while getting current user info",e)}return{id:r?r.identityId:void 0,username:e.getUsername(),attributes:n}}catch(e){return Zl.error("currentUserInfo error",e),{}}}if("federated"===e){const e=this.user;return e||{}}}async federatedSignIn(e,t,n){if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");if(!(d(e)||(r=e,r&&["customProvider"].find((e=>r.hasOwnProperty(e))))||function(e){return e&&!!["customState"].find((t=>e.hasOwnProperty(t)))}(e)||void 0===e)){const r=e;try{const e=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user);e&&Zl.warn(`There is already a signed in user: ${e} in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch(e){}const{token:i,identity_id:o,expires_at:s}=t,a=await this.Credentials.set({provider:r,token:i,identity_id:o,user:n,expires_at:s},"federation"),u=await this.currentAuthenticatedUser();return ef("signIn",u,`A user ${u.username} has been signed in`),Zl.debug("federated sign in credentials",a),a}{const t=e||{provider:o.Cognito},n=d(t)?t.provider:t.customProvider,r=(d(t),t.customState);if(this._config.userPoolId){const e=h(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,t=h(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri;this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,t,e,n,r)}}var r}async _handleAuthResponse(e){if(this.oAuthFlowInProgress)Zl.debug(`Skipping URL ${e} current flow in progress`);else try{if(this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");ef("parsingCallbackUrl",{url:e},"The callback url is being parsed");const t=e||(pe.browserOrNode().isBrowser?window.location.href:""),n=!!(bl(t).query||"").split("&").map((e=>e.split("="))).find((([e])=>"code"===e||"error"===e)),r=!!(bl(t).hash||"#").substr(1).split("&").map((e=>e.split("="))).find((([e])=>"access_token"===e||"error"===e));if(n||r){this._storage.setItem("amplify-redirected-from-hosted-ui","true");try{const{accessToken:e,idToken:n,refreshToken:r,state:i}=await this._oAuthHandler.handleAuthResponse(t),o=new $c({IdToken:new Kc({IdToken:n}),RefreshToken:new Vc({RefreshToken:r}),AccessToken:new Hc({AccessToken:e})});let s;this._config.identityPoolId&&(s=await this.Credentials.set(o,"session"),Zl.debug("AWS credentials",s));const a=/-/.test(i),u=this.createCognitoUser(o.getIdToken().decodePayload()["cognito:username"]);if(u.setSignInUserSession(o),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ef("signIn",u,`A user ${u.getUsername()} has been signed in`),ef("cognitoHostedUI",u,`A user ${u.getUsername()} has been signed in via Cognito Hosted UI`),a){const e=i.split("-").splice(1).join("-");ef("customOAuthState",Ts(e),`State for user ${u.getUsername()}`)}return s}catch(e){Zl.debug("Error in cognito hosted auth response",e),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ef("signIn_failure",e,"The OAuth response flow failed"),ef("cognitoHostedUI_failure",e,"A failure occurred when returning to the Cognito Hosted UI"),ef("customState_failure",e,"A failure occurred when returning state")}}}finally{this.oAuthFlowInProgress=!1}}essentialCredentials(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}}attributesToObject(e){const t={};return e&&e.map((e=>{"email_verified"===e.Name||"phone_number_verified"===e.Name?t[e.Name]=this.isTruthyString(e.Value)||!0===e.Value:t[e.Name]=e.Value})),t}isTruthyString(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()}createCognitoUser(e){const t={Username:e,Pool:this.userPool};t.Storage=this._storage;const{authenticationFlowType:n}=this._config,r=new rl(t);return n&&r.setAuthenticationFlowType(n),r}_isValidAuthStorage(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear}noUserPoolErrorHandler(e){return!e||e.userPoolId&&e.identityPoolId?a.NoConfig:a.MissingAuthConfig}rejectAuthError(e){return Promise.reject(new $l(e))}rejectNoUserPool(){const e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Jl(e))}async rememberDevice(){let e;try{e=await this.currentUserPoolUser()}catch(e){return Zl.debug("The user is not authenticated by the error",e),Promise.reject("The user is not authenticated")}return e.getCachedDeviceKeyAndPassword(),new Promise(((t,n)=>{e.setDeviceStatusRemembered({onSuccess:e=>{t(e)},onFailure:e=>{"InvalidParameterException"===e.code?n(new $l(a.DeviceConfig)):"NetworkError"===e.code?n(new $l(a.NetworkError)):n(e)}})}))}async forgetDevice(){let e;try{e=await this.currentUserPoolUser()}catch(e){return Zl.debug("The user is not authenticated by the error",e),Promise.reject("The user is not authenticated")}return e.getCachedDeviceKeyAndPassword(),new Promise(((t,n)=>{e.forgetDevice({onSuccess:e=>{t(e)},onFailure:e=>{"InvalidParameterException"===e.code?n(new $l(a.DeviceConfig)):"NetworkError"===e.code?n(new $l(a.NetworkError)):n(e)}})}))}async fetchDevices(){let e;try{e=await this.currentUserPoolUser()}catch(e){throw Zl.debug("The user is not authenticated by the error",e),new Error("The user is not authenticated")}return e.getCachedDeviceKeyAndPassword(),new Promise(((t,n)=>{const r={onSuccess(e){const n=e.Devices.map((e=>{const t=e.DeviceAttributes.find((({Name:e})=>"device_name"===e))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:e=>{"InvalidParameterException"===e.code?n(new $l(a.DeviceConfig)):"NetworkError"===e.code?n(new $l(a.NetworkError)):n(e)}};e.listDevices(60,null,r)}))}}const nf=new tf(null);g.Amplify.register(nf),e.CognitoAuth=new tf(null)}();
//# sourceMappingURL=app.js.map
